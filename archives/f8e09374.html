<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Vue | awzz博客</title><meta name="author" content="awzz-coder"><meta name="copyright" content="awzz-coder"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Vue1.邂逅Vue1、Vue在前端的重要性Vue 是一套用于构建用户界面的渐进式 JavaScript 框架 它基于标准 HTML、CSS和JavaScript构建，并提供了一套声明式的、组件化的编程模型 帮助你高效地开发用户界面，无论任务是简单还是复杂 什么是渐进式框架？ 表示我们可以在项目中一点点来引入和使用Vue，而不一定需要全部使用Vue来开发整个项目 目前前端最流行的是三大框架：Vue">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue">
<meta property="og:url" content="https://awzz-coder.github.io/archives/f8e09374.html">
<meta property="og:site_name" content="awzz博客">
<meta property="og:description" content="Vue1.邂逅Vue1、Vue在前端的重要性Vue 是一套用于构建用户界面的渐进式 JavaScript 框架 它基于标准 HTML、CSS和JavaScript构建，并提供了一套声明式的、组件化的编程模型 帮助你高效地开发用户界面，无论任务是简单还是复杂 什么是渐进式框架？ 表示我们可以在项目中一点点来引入和使用Vue，而不一定需要全部使用Vue来开发整个项目 目前前端最流行的是三大框架：Vue">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg">
<meta property="article:published_time" content="2022-12-09T16:00:00.000Z">
<meta property="article:modified_time" content="2023-04-15T10:57:42.706Z">
<meta property="article:author" content="awzz-coder">
<meta property="article:tag" content="IT前端">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="前端框架">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg"><link rel="shortcut icon" href="/img/site_logo.ico"><link rel="canonical" href="https://awzz-coder.github.io/archives/f8e09374.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><meta name="baidu-site-verification" content="codeva-1kLiQ63o8L"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":3000,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":100},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-15 18:57:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-graduation-cap"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-people-robbery"></i><span> 教程</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-comments-o"></i><span> 简介</span></a></li><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-voicemail"></i><span> 基础</span></a></li><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-scale-unbalanced"></i><span> 进阶</span></a></li><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-stethoscope"></i><span> 总结</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-heart"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-heart"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/cartoon/"><i class="fa-fw fas fa-heart"></i><span> 漫画</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-heart"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/photo/"><i class="fa-fw fas fa-image"></i><span> 壁纸</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-toolbox"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/seek/"><i class="fa-fw fas fa-circle-nodes"></i><span> 查询类</span></a></li><li><a class="site-page child" href="/online/"><i class="fa-fw fas fa-heart"></i><span> 在线版</span></a></li><li><a class="site-page child" href="/tools/"><i class="fa-fw fas fa-heart"></i><span> 工具类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-circle-info"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="awzz博客"><span class="site-name">awzz博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-graduation-cap"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-people-robbery"></i><span> 教程</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-comments-o"></i><span> 简介</span></a></li><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-voicemail"></i><span> 基础</span></a></li><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-scale-unbalanced"></i><span> 进阶</span></a></li><li><a class="site-page child" href="/teach/"><i class="fa-fw fas fa-stethoscope"></i><span> 总结</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-heart"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-heart"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/cartoon/"><i class="fa-fw fas fa-heart"></i><span> 漫画</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-heart"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/photo/"><i class="fa-fw fas fa-image"></i><span> 壁纸</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-toolbox"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/seek/"><i class="fa-fw fas fa-circle-nodes"></i><span> 查询类</span></a></li><li><a class="site-page child" href="/online/"><i class="fa-fw fas fa-heart"></i><span> 在线版</span></a></li><li><a class="site-page child" href="/tools/"><i class="fa-fw fas fa-heart"></i><span> 工具类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-circle-info"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-12-09T16:00:00.000Z" title="发表于 2022-12-10 00:00:00">2022-12-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-15T10:57:42.706Z" title="更新于 2023-04-15 18:57:42">2023-04-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">22.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>86分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><h2 id="1-邂逅Vue"><a href="#1-邂逅Vue" class="headerlink" title="1.邂逅Vue"></a>1.邂逅Vue</h2><h3 id="1、Vue在前端的重要性"><a href="#1、Vue在前端的重要性" class="headerlink" title="1、Vue在前端的重要性"></a>1、Vue在前端的重要性</h3><p>Vue 是一套用于构建用户界面的渐进式 JavaScript 框架</p>
<p>它基于标准 HTML、CSS和JavaScript构建，并提供了一套声明式的、组件化的编程模型</p>
<p>帮助你高效地开发用户界面，无论任务是简单还是复杂</p>
<p>什么是渐进式框架？</p>
<p>表示我们可以在项目中一点点来引入和使用Vue，而不一定需要全部使用Vue来开发整个项目</p>
<p>目前前端最流行的是三大框架：Vue、React、Angular</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230409072236471.png" alt="image-20230409072236471"></p>
<p>国外，优先推荐React、其次是Vue和Angular</p>
<p>国内，优先推荐且必须学习Vue，其次是React，其次是Angular</p>
<h3 id="2、Vue2还是Vue3"><a href="#2、Vue2还是Vue3" class="headerlink" title="2、Vue2还是Vue3"></a>2、Vue2还是Vue3</h3><p>Vue3：更好的性能；更小的打包体积；更好的TypeScript集成；更优秀的 API 设计</p>
<p>Vue3 目前已经是稳定的版本，并且 Vue3 在2022年2月7日已经成为默认安装版本；</p>
<p>目前社区也经过一定时间的沉淀，更加的完善了，包括 AntDesignVue、Element-Plus 都提供了对 Vue3 的支持，所以很多公司目前新的项目都已经在使用 Vue3 来进行开发了。</p>
<p>并且在面试的时候，几乎都会问到各种各样 Vue3 相关的问题</p>
<p>Vue 的本质，就是一个 JavaScript 的库</p>
<p>使用 Vue 的方式</p>
<ul>
<li>在页面通过CDN的方式来引入<ul>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://unpkg.com/vue@next">https://unpkg.com/vue@next</a></li>
</ul>
</li>
<li>下载 Vue 的 JS 文件，并且自己手动引入</li>
<li>通过 npm 包管理工具安装使用它</li>
<li>直接通过 Vue CIL 创建项目，并且使用它</li>
</ul>
<h3 id="3、Vue-初体验"><a href="#3、Vue-初体验" class="headerlink" title="3、Vue 初体验"></a>3、Vue 初体验</h3><p>Vue 页面</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 1.创建app </span></span><br><span class="line">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">`&lt;h1&gt;Hello Vue&lt;/h2&gt;`</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.挂载app</span></span><br><span class="line">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>案例1.动态message</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">template</span>: <span class="string">`&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;`</span></span><br></pre></td></tr></table></figure>

<p>案例2. 列表数据</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">       &lt;h2&gt;电影列表&lt;/h2&gt;</span></span><br><span class="line"><span class="string">       &lt;ul&gt;</span></span><br><span class="line"><span class="string">         &lt;li v-for=&quot;item in movies&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt; </span></span><br><span class="line"><span class="string">       &lt;/ul&gt;</span></span><br><span class="line"><span class="string">     `</span>,</span><br><span class="line">     <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">message</span>: <span class="string">&quot;你好啊，ikun&quot;</span>,</span><br><span class="line">         <span class="attr">movies</span>: [ <span class="string">&quot;大话西游&quot;</span>, <span class="string">&quot;恶灵&quot;</span>, <span class="string">&quot;少年派&quot;</span>, <span class="string">&quot;盗梦空间&quot;</span>, <span class="string">&quot;五十度灰&quot;</span> ]</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<p>案例3.计数器</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数: &#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="attr">increment</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 暂时了解：this通过bild绑定某个对象 可以改变data的return&#123;&#125; 中的对象</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">counter</span>++</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">decrement</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">counter</span>--</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="4、命令式与声明式编程"><a href="#4、命令式与声明式编程" class="headerlink" title="4、命令式与声明式编程"></a>4、命令式与声明式编程</h3><p>原生开发和Vue开发的模式和特点是完全不同的，涉及到两种不同的编程范式</p>
<ul>
<li><p>命令式编程和声明式编程</p>
</li>
<li><p>命令式编程关注的是 “how to do”自己完成整个how的过程</p>
</li>
<li><p>声明式编程关注的是 “what to do”，由框架(机器)完成 “how”的过程</p>
</li>
</ul>
<p>在原生的实现过程中</p>
<ul>
<li><p>每完成一个操作，都需要通过JavaScript编写一条代码，来给浏览器一个指令</p>
</li>
<li><p>这样的编写代码的过程，我们称之为命令式编程</p>
</li>
<li><p>在早期的原生JavaScript和jQuery开发的过程中，都是通过这种命令式的方式编写代码</p>
</li>
</ul>
<p>在Vue的实现过程中的操作</p>
<ul>
<li><p>在createApp传入的对象中声明需要的内容，模板template、数据data、方法methods</p>
</li>
<li><p>这样的编写代码的过程，我们称之为是声明式编程</p>
</li>
<li><p>目前Vue、React、Angular、小程序的编程模式，我们称之为声明式编程</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/%E5%91%BD%E4%BB%A4%E5%BC%8F%E7%BC%96%E7%A8%8B%E5%92%8C%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E6%80%9D%E6%83%B3%E5%8C%BA%E5%88%AB.png" alt="命令式编程和声明式编程的思想区别"></p>
<h3 id="5、MVC和MVVM的模型区别"><a href="#5、MVC和MVVM的模型区别" class="headerlink" title="5、MVC和MVVM的模型区别"></a>5、MVC和MVVM的模型区别</h3><p>MVC和MVVM都是一种软件的体系结构</p>
<ul>
<li><p>MVC是Model – View –Controller的简称，是在前期被使用非常框架的架构模式，比如iOS、前端；</p>
</li>
<li><p>MVVM是Model-View-ViewModel的简称，是目前非常流行的架构模式</p>
</li>
</ul>
<p>通常情况下，我们也经常称Vue是一个MVVM的框架</p>
<ul>
<li>Vue官方其实有说明，Vue虽然并没有完全遵守MVVM的模型，但整个设计受到它的启发</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230409203218899.png" alt="image-20230409203218899"></p>
<h3 id="6、常用-options-api"><a href="#6、常用-options-api" class="headerlink" title="6、常用 options api"></a>6、常用 options api</h3><h4 id="1-data"><a href="#1-data" class="headerlink" title="1.data"></a>1.data</h4><p>data属性是传入一个函数，并且该函数需要返回一个对象</p>
<ul>
<li><p>在 ue2.x 的时候，也可以传入一个对象（虽然官方推荐是一个函数）</p>
</li>
<li><p>在 Vue3.x 的时候，必须传入一个函数，否则就会直接在浏览器中报错</p>
</li>
</ul>
<p>data中返回的对象会被Vue的响应式系统劫持，之后对该对象的修改或者访问都会在劫持中被处理</p>
<ul>
<li><p>在 template 或者 app 中通过 <code>&#123;&#123;counter&#125;&#125;</code> 访问 ounter，可以从对象中获取到数据</p>
</li>
<li><p>修改counter的值时，app中的 <code>&#123;&#123;counter&#125;&#125;</code>也会发生改变</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/data%E6%95%B0%E6%8D%AE%E5%A6%82%E4%BD%95%E8%A2%AB%E5%B1%95%E7%A4%BA%E7%9A%84.png" alt="data数据如何被展示的"></p>
<h4 id="2-methods"><a href="#2-methods" class="headerlink" title="2.methods"></a>2.methods</h4><p>methods 属性是一个对象，通常我们会在这个对象中定义很多的方法：</p>
<ul>
<li><p>这些方法可以被绑定到模板中</p>
</li>
<li><p>在该方法中，我们可以使用 this 关键字来直接访问到data中返回的对象的属性</p>
</li>
</ul>
<p>问题一：为什么不能使用箭头函数（官方文档有给出解释）</p>
<ul>
<li>我们在 methods 中要使用 data 返回对象中的数据，那么这个 this 是必须有值的，并且应该可以通过 this 获取到data返回对象中的数据，不可以是 window，因为 window 中我们无法获取到 data 返回对象中的数据，但是如果我们使用箭头函数，那么这个 this 就会是window了</li>
</ul>
<p>问题二：不使用箭头函数的情况下，this 到底指向的是什么？（可以作为一道面试题）</p>
<p>proxy，事实上Vue的源码当中就是对 methods 中的所有函数进行了遍历，并且通过bind绑定了 this</p>
<h3 id="7、vscode-代码片段"><a href="#7、vscode-代码片段" class="headerlink" title="7、vscode 代码片段"></a>7、vscode 代码片段</h3><p>便于快速生成Vue的基本代码结构</p>
<p>具体的步骤如下：</p>
<ul>
<li><p>第一步，复制自己需要生成代码片段的代码</p>
</li>
<li><p>第二步，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://snippet-generator.app/%E5%9C%A8%E8%AF%A5%E7%BD%91%E7%AB%99%E4%B8%AD%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5">https://snippet-generator.app/在该网站中生成代码片段</a></p>
</li>
<li><p>第三步，在VSCode中配置代码片段</p>
</li>
</ul>
<h2 id="2-模板语法"><a href="#2-模板语法" class="headerlink" title="2.模板语法"></a>2.模板语法</h2><h3 id="1、Mustache-语法"><a href="#1、Mustache-语法" class="headerlink" title="1、Mustache 语法"></a>1、Mustache 语法</h3><p>React的开发模式：</p>
<ul>
<li><p>React使用的jsx，所以对应的代码都是编写的类似于js的一种语法</p>
</li>
<li><p>之后通过Babel将jsx编译成 React.createElement 函数调用</p>
</li>
</ul>
<p>Vue也支持jsx的开发模式</p>
<ul>
<li><p>但大多数情况下，使用基于HTML的模板语法</p>
</li>
<li><p>在模板中，允许开发者以声明式的方式将DOM和底层组件实例的数据绑定在一起</p>
</li>
<li><p>在底层的实现中，Vue将模板编译成虚拟DOM渲染函数</p>
</li>
</ul>
<p>把数据显示到模板（template）中，使用最多的语法是“Mustache”语法 (双大括号)的文本插值</p>
<ul>
<li><p>并且data返回的对象是有添加到Vue的响应式系统中</p>
</li>
<li><p>当data中的数据发生改变时，对应的内容也会发生更新</p>
</li>
<li><p>Mustache中不仅仅可以是data中的属性，也可以是一个JavaScript的表达式</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  &lt;!-- <span class="number">1.</span>基本使用 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数: &#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  &lt;!-- <span class="number">2.</span>表达式 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>双倍计数: &#123;&#123; counter * 2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>展示信息: &#123;&#123; infos.split(&quot; &quot;).join(&quot;-&quot;) &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  &lt;!-- <span class="number">3.</span>三元表达式 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; age &gt;= 18 ? &quot;成年人&quot; : &quot;未成年人&quot; &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  &lt;!-- <span class="number">4.</span>调用methods中函数 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; formateDate(123) &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  &lt;!-- <span class="number">5.</span>注意：这里不能定义语句 --&gt;</span><br><span class="line">  &lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; const name = &quot;why&quot;; name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>若是在createApp对象中使用template并写入东西，则会覆盖挂载的app中的原来的html结构，所以可以不写template，而挂载app中的div的html结构会当做template模板，便于书写html结构</p>
<h3 id="2、常见基本指令"><a href="#2、常见基本指令" class="headerlink" title="2、常见基本指令"></a>2、常见基本指令</h3><h4 id="1-v-once"><a href="#1-v-once" class="headerlink" title="1.v-once"></a>1.v-once</h4><p>用于指定元素或者组件只渲染一次：</p>
<ul>
<li><p>当数据发生变化时，元素或者组件以及其所有的子元素将视为静态内容并且跳过</p>
</li>
<li><p>该指令可以用于性能优化</p>
</li>
<li><p>如果是子节点，也是只会渲染一次</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	&lt;!-- 指令：v-once 自身以及子元素只渲染一次 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">      &#123;&#123;message&#125;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>数字: &#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">模板中使用&#123;&#123;&#125;&#125;进行渲染一次之后，不能修改所渲染的数据（数据能被修改但是渲染的数据仍是第一次渲染的数据）</span><br></pre></td></tr></table></figure>



<h4 id="2-v-text"><a href="#2-v-text" class="headerlink" title="2.v-text"></a>2.v-text</h4><p>用于更新元素的 textContent</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">如果&#123;&#123;message不含别的解释内容，则两者等价，不然v-text会替换标签中原有的内容&#125;&#125;	</span><br><span class="line">   &lt;!-- 将data对应的文本设置到元素中  message会替换aaa--&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message&quot;</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="3-v-html"><a href="#3-v-html" class="headerlink" title="3.v-html"></a>3.v-html</h4><p>默认情况下，如果我们展示的内容本身是html的，那么vue并不会对其进行特殊的解析</p>
<ul>
<li>如果我们希望这个内容被Vue可以解析出来，那么可以使用 v-html 来展示</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123; content &#125;&#125;&lt;/h2&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">content</span>: <span class="string">`&lt;span style=&quot;color: red; font-size: 30px;&quot;&gt;哈哈哈&lt;/span&gt;`</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="4-v-pre"><a href="#4-v-pre" class="headerlink" title="4.v-pre"></a>4.v-pre</h4><p>v-pre用于跳过元素和它的子元素的编译过程，显示原始的Mustache标签：</p>
<ul>
<li>跳过不需要编译的节点，加快编译的速度；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div v-pre&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>当前计数: &#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123;&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line"><span class="comment">// div中设置了 v-pre则子元素也不会进行编译</span></span><br></pre></td></tr></table></figure>



<h4 id="5-v-cloak"><a href="#5-v-cloak" class="headerlink" title="5.v-cloak"></a>5.v-cloak</h4><p>这个指令保持在元素上直到关联组件实例结束编译</p>
<ul>
<li>和 CSS 规则如 [v-cloak] { display: none } 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到组件实例准备完毕</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  [v-cloak] &#123;</span><br><span class="line">    <span class="attr">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br><span class="line">  &#125;, <span class="number">3000</span>)</span><br></pre></td></tr></table></figure>



<h4 id="6-v-memo"><a href="#6-v-memo" class="headerlink" title="6.v-memo"></a>6.v-memo</h4><p>缓存一个模板的子树，在元素和组件上都可以使用，为了实现缓存，该指令需要传入一个固定长度的依赖值数组进行比较。如果数组里的每个值都与最后一次的渲染相同，那么整个子树的更新将被跳过</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> &lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">   &lt;!-- name 和 age 都保持不变才跳过对数据的修改操作 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-memo</span>=<span class="string">&quot;[name, age]&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">h2</span>&gt;</span>name: &#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">h2</span>&gt;</span>age: &#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">h2</span>&gt;</span>height: &#123;&#123; height &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span>改变信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">     <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">name</span>: <span class="string">&quot;sws&quot;</span>,</span><br><span class="line">         <span class="attr">age</span>: <span class="number">23</span>,</span><br><span class="line">         <span class="attr">height</span>: <span class="number">1.84</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="attr">methods</span>: &#123;</span><br><span class="line">       <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="comment">// this.name = &quot;swd&quot;,</span></span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">21</span>,</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">height</span> = <span class="number">1.82</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>



<h3 id="3、v-bind-绑定属性"><a href="#3、v-bind-绑定属性" class="headerlink" title="3、v-bind 绑定属性"></a>3、v-bind 绑定属性</h3><p>动态的绑定一个或多个 attribute，也可以是组件的 prop</p>
<p>当用于绑定 或 attribute， 支持额外的值类型如数组或对象</p>
<h4 id="1-绑定基本属性"><a href="#1-绑定基本属性" class="headerlink" title="1.绑定基本属性"></a>1.绑定基本属性</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span>绑定img的src --&gt;</span><br><span class="line">   &lt;!-- 语法糖: v-bind -&gt; : --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;showImgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="comment">&lt;!-- 2.绑定a的超链接 --&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;href&quot;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>案例：点击切换图片</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&quot;changeImg&quot;</span>&gt;切换图片&lt;/button&gt;</span><br><span class="line">   <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">           <span class="attr">imgUrl1</span>: <span class="string">&quot;xxx1&quot;</span>,</span><br><span class="line">           <span class="attr">imgUrl2</span>: <span class="string">&quot;xxx2&quot;</span>,</span><br><span class="line">           <span class="attr">showImgUrl</span>: <span class="string">&quot;xxx1&quot;</span>,</span><br><span class="line">           <span class="attr">href</span>: <span class="string">&quot;https://www.baidu.com&quot;</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">methods</span>: &#123;</span><br><span class="line">       <span class="title function_">changeImg</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">showImgUrl</span> = <span class="variable language_">this</span>.<span class="property">showImgUrl</span> === <span class="variable language_">this</span>.<span class="property">imgUrl1</span> ? <span class="variable language_">this</span>.<span class="property">imgUrl2</span> : <span class="variable language_">this</span>.<span class="property">imgUrl1</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-绑定class"><a href="#2-绑定class" class="headerlink" title="2.绑定class"></a>2.绑定class</h4><p>开发中，有时候我们的元素class也是动态的，比如：</p>
<ul>
<li><p>当数据为某个状态时，字体显示红色。</p>
</li>
<li><p>当数据另一个状态时，字体显示黑色。</p>
</li>
</ul>
<p>绑定class有两种方式：</p>
<ul>
<li><p>对象语法：可以传给 :class (v-bind:class 的简写) 一个对象，以动态地切换 class</p>
</li>
<li><p>数组语法：可以把一个数组传给 :class，以应用一个 class 列表</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  &lt;style&gt;</span><br><span class="line">    .<span class="property">active</span> &#123;</span><br><span class="line">      <span class="attr">color</span>: red;</span><br><span class="line">   	&#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 1.基本绑定class --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;classes&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 2.动态class可以写对象语法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">:class</span>=<span class="string">&quot; isActive ? &#x27;active&#x27; : &#x27;&#x27; &quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 2.1对象语法的基本使用 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active: isActive&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是&#123;&#123; message &#125;&#125;按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 2.2对象语法的多个键值对 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active: isActive, why: true, kobe: false&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是&#123;&#123; message &#125;&#125;按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 2.3动态绑定的class可以个普通的class并列使用 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;abc bcd&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active: isActive, why: true, kobe: false&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是&#123;&#123; message &#125;&#125;按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 2.4动态绑定的class可以个普通的class并列使用 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;abc bcd&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;getDynamicClasses()&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>我是&#123;&#123; message &#125;&#125;按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 3.动态class可以写数组语法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&#x27;[&quot;abc&quot;, &quot;sss&quot;]&#x27;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&#x27;[&quot;abc&quot;, className]&#x27;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&#x27;[&quot;abc&quot;, className, isActive? &quot;active&quot; : &quot;&quot;]&#x27;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&#x27;[&quot;abc&quot;, className, &#123; active: isActive &#125;]&#x27;</span>&gt;</span>Hello Array<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">message</span>: <span class="string">&quot;原色&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">classes</span>: <span class="string">&quot;ads scw fvs&quot;</span>, </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">className</span>: <span class="string">&quot;sdw&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">btnClick</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">isActive</span> = !<span class="variable language_">this</span>.<span class="property">isActive</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="variable language_">this</span>.<span class="property">message</span> === <span class="string">&quot;原色&quot;</span> ? <span class="string">&quot;红色&quot;</span> : <span class="string">&quot;原色&quot;</span> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">getDynamicClasses</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> &#123; <span class="attr">active</span>: <span class="variable language_">this</span>.<span class="property">isActive</span>, <span class="attr">why</span>: <span class="literal">true</span>, <span class="attr">kobe</span>: <span class="literal">false</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="3-绑定style"><a href="#3-绑定style" class="headerlink" title="3.绑定style"></a>3.绑定style</h4><p>可以利用v-bind:style来绑定一些CSS内联样式：</p>
<ul>
<li><p>这是因为某些样式我们需要根据数据动态来决定；</p>
</li>
<li><p>比如某段文字的颜色，大小等等；</p>
</li>
</ul>
<p>CSS property 名可以用驼峰式或短横线（使用括号）分隔 ，记得用引号括起来来命名；</p>
<p>绑定class有两种方式：</p>
<ul>
<li><p>对象语法</p>
</li>
<li><p>数组语法：:style 的数组语法可以将多个样式对象应用到同一个元素上</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;!-- <span class="number">1.</span>普通的style写法 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;color: red; font-size: 30px;&quot;</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.</span>style中的某些值，来自data中 --&gt;</span><br><span class="line">   &lt;!-- <span class="number">2.1</span>动态绑定style 在后面跟上 对象类型 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; color: fontColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.2</span> 动态的绑定属性，这个属性是一个对象 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;objStyle&quot;</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">3.</span>style的数组语法 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[objStyle, &#123;backgroundColor: &#x27;purple&#x27;&#125;]&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">fontColor</span>: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">         <span class="attr">fontSize</span>: <span class="number">30</span>,</span><br><span class="line">         <span class="attr">objStyle</span>: &#123;</span><br><span class="line">           <span class="attr">fontSize</span>: <span class="string">&#x27;50px&#x27;</span>,</span><br><span class="line">           <span class="attr">color</span>: <span class="string">&#x27;green&#x27;</span></span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-动态绑定属性"><a href="#4-动态绑定属性" class="headerlink" title="4.动态绑定属性"></a>4.动态绑定属性</h4><p>某些情况下，我们属性的名称可能也不是固定的：</p>
<ul>
<li><p>如果属性名称不是固定的，我们可以使用 :[属性名]&#x3D;“值” 的格式来定义；</p>
</li>
<li><p>这种绑定的方式，我们称之为动态绑定属性</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:</span>[<span class="attr">name</span>]=<span class="string">&quot;&#x27;aaa&#x27;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&quot;class&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h4 id="5-绑定对象"><a href="#5-绑定对象" class="headerlink" title="5.绑定对象"></a>5.绑定对象</h4><p>如果希望将一个对象的所有属性绑定到元素上的所有属性：</p>
<ul>
<li>可以直接使用 v-bind 绑定一个 对象；</li>
</ul>
<p>案例：infos对象会被拆解成div的各个属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>	&lt;h2 :name=<span class="string">&quot;name&quot;</span> :age=<span class="string">&quot;age&quot;</span> :height=<span class="string">&quot;height&quot;</span>&gt;<span class="title class_">Hello</span> <span class="title class_">World</span>&lt;/h2&gt;</span><br><span class="line">    &lt;!-- v-bind绑定对象  给组件传递参数 --&gt;</span><br><span class="line"><span class="number">2</span>   &lt;h2 v-bind=<span class="string">&quot;props&quot;</span>&gt;<span class="title class_">Hello</span> <span class="title class_">Bind</span>&lt;/h2&gt;</span><br><span class="line">	<span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">props</span>: &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">23</span>,</span><br><span class="line">                <span class="attr">height</span>: <span class="number">1.44</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;why&quot;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">23</span>,</span><br><span class="line">            <span class="attr">height</span>: <span class="number">1.44</span></span><br><span class="line">        &#125;</span><br><span class="line">   	 &#125;    <span class="comment">// 1 2效果相同</span></span><br></pre></td></tr></table></figure>



<h3 id="4-、Vue-的事件绑定"><a href="#4-、Vue-的事件绑定" class="headerlink" title="4 、Vue 的事件绑定"></a>4 、Vue 的事件绑定</h3><p>为了与用户进行交互，必须监听用户发生的事件</p>
<p>v-on的使用：</p>
<ul>
<li><p>缩写（语法糖）：@</p>
</li>
<li><p>预期：Function | Inline Statement | Object</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span>基本的写法 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-on:click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.</span>语法糖写法 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">3.</span>绑定的方法位置，也可以写成一个表达式（不常用,不推荐） --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter--&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">4.</span>绑定其他方法 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">mousemove</span>=<span class="string">&quot;divMousemove&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">5.</span>绑定多个事件 分开传入或者传入对象 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span> @<span class="attr">mousemove</span>=<span class="string">&quot;divMousemove&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="comment">// v-on: == v-on 下方这儿:可以省略</span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">v-on:</span>=<span class="string">&quot;&#123; click: divClick, mousemove: divMousemove &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> @=<span class="string">&quot;&#123; click: divClick, mousemove: divMousemove &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="title function_">divClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;divClick&quot;</span>)</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">counter</span>++</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="title function_">divMousemove</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;mousemove&quot;</span>)</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>参数：event</li>
<li>自定义参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span>默认传递event对象 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.</span>只有自己的参数 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click(&#x27;why&#x27;, age)&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">3.</span>明确的参数和event对象 --&gt;</span><br><span class="line">   &lt;!-- 在模板中想要明确的获取event对象：$event --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click(&#x27;swd&#x27;, age, $event)&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1.默认参数：event对象</span></span><br><span class="line">       <span class="comment">// 总结：如果在绑定事件的时候，没有传递任何的参数，那么event对象会被默认传递进来</span></span><br><span class="line">       <span class="title function_">btn1Click</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btnClick:&quot;</span>, event)</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="title function_">btn2Click</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btn2Click&quot;</span>, name, age)</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="title function_">btn3Click</span>(<span class="params">name, age, event</span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;btn3Click&quot;</span>, name, age, event)</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>修饰符：</p>
<ul>
<li>.stop - 调用 event.stopPropagation()</li>
<li>.prevent - 调用 event.preventDefault()</li>
<li>.capture - 添加事件侦听器时使用 capture 模式</li>
<li>.self - 只当事件是从侦听器绑定的元素本身触发时才触发回调</li>
<li>.{keyAlias} - 仅当事件是从特定键触发时才触发回调</li>
<li>.once - 只触发一次回调</li>
<li>.left - 只当点击鼠标左键时触发</li>
<li>.right - 只当点击鼠标右键时触发</li>
<li>.middle - 只当点击鼠标中键时触发</li>
<li>.passive - { passive: true } 模式添加侦听器</li>
</ul>
</li>
<li><p>用法：绑定事件监听</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;box&quot;</span> @click=<span class="string">&quot;divClick&quot;</span>&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br></pre></td></tr></table></figure>



<h3 id="5、Vue-的条件渲染"><a href="#5、Vue-的条件渲染" class="headerlink" title="5、Vue 的条件渲染"></a>5、Vue 的条件渲染</h3><p>某些情况下需要根据当前的条件决定某些元素或组件是否渲染，这时就需要进行条件判断</p>
<p>v-if、v-else、v-else-if用于根据条件来渲染某一块的内容：</p>
<ul>
<li><p>这些内容只有在条件为true时，才会被渲染出来</p>
</li>
<li><p>这三个指令与JavaScript的条件语句if、else、else if类似</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;score &gt; 90&quot;</span>&gt;</span>优秀<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt; 80&quot;</span>&gt;</span>良好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score &gt;= 60&quot;</span>&gt;</span>及格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>不及格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-v-if的渲染原理："><a href="#1-v-if的渲染原理：" class="headerlink" title="1.v-if的渲染原理："></a>1.v-if的渲染原理：</h4><ul>
<li><p>v-if是惰性的</p>
</li>
<li><p>当条件为false时，其判断的内容完全不会被渲染或者会被销毁掉</p>
</li>
<li><p>当条件为true时，才会真正渲染条件块中的内容</p>
</li>
</ul>
<p>即当v-if所判断的条件为false时，页面查看代码中没有其创建的元素</p>
<h4 id="2-template-元素"><a href="#2-template-元素" class="headerlink" title="2.template 元素"></a>2.template 元素</h4><p>因为v-if是一个指令，所以必须将其添加到一个元素上：</p>
<ul>
<li><p>但是如果我们希望切换的是多个元素</p>
</li>
<li><p>此时我们渲染div，但是我们并不希望div这种元素被渲染</p>
</li>
<li><p>这个时候，我们可以选择使用template</p>
</li>
</ul>
<p>template元素可以当做不可见的包裹元素，并且在v-if上使用，但是最终template不会被渲染出来：</p>
<ul>
<li>有点类似于小程序中的block</li>
</ul>
<h4 id="3-v-show和v-if的区别"><a href="#3-v-show和v-if的区别" class="headerlink" title="3.v-show和v-if的区别"></a>3.v-show和v-if的区别</h4><p>在用法上的区别：</p>
<ul>
<li><p>v-show是不支持template；</p>
</li>
<li><p>v-show不可以和v-else一起使用；</p>
</li>
</ul>
<p>本质的区别：</p>
<ul>
<li><p>v-show元素无论是否需要显示到浏览器上，它的DOM实际都是有存在的，只是通过CSS的display属性来进行切换；</p>
</li>
<li><p>v-if当条件为false时，其对应的元素压根不会被渲染到DOM中；</p>
</li>
</ul>
<p>开发中选择</p>
<ul>
<li><p>如果我们的元素需要在显示和隐藏之间频繁的切换，那么使用v-show；</p>
</li>
<li><p>如果不会频繁的发生切换，那么使用v-if</p>
</li>
</ul>
<h3 id="6、Vue-的列表渲染"><a href="#6、Vue-的列表渲染" class="headerlink" title="6、Vue 的列表渲染"></a>6、Vue 的列表渲染</h3><h4 id="1-渲染（遍历）方式"><a href="#1-渲染（遍历）方式" class="headerlink" title="1.渲染（遍历）方式"></a>1.渲染（遍历）方式</h4><p>开发中，我们往往会从服务器拿到一组数据，并且需要对其进行渲染</p>
<ul>
<li><p>这时可以使用v-for来完成</p>
</li>
<li><p>v-for类似于JavaScript的for循环，可以用于遍历一组数据</p>
</li>
</ul>
<p>v-for的基本格式是 “item in 数组”：</p>
<ul>
<li><p>数组通常是来自data或者prop，也可以是其他方式；</p>
</li>
<li><p>item是我们给每项元素起的一个别名，这个别名可以自定来定义；</p>
</li>
</ul>
<p>我们知道，在遍历一个数组的时候会经常需要拿到数组的索引：</p>
<ul>
<li><p>如果我们需要索引，可以使用格式： “(item, index) in 数组”；</p>
</li>
<li><p>注意上面的顺序：数组元素项item是在前面的，索引项index是在后面的</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span>电影列表进行渲染 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>电影列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;movie in movies&quot;</span>&gt;</span>&#123;&#123;movie&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.</span>电影列表同时索引(数组) --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     // 支持 of  </span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(movie, index) in movies&quot;</span>&gt;</span>&#123;&#123;index + 1&#125;&#125; - &#123;&#123;movie&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">3.</span>遍历数组复杂数据 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>商品列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in products&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>商品:&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">span</span>&gt;</span>价格:&#123;&#123;item.price&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">p</span>&gt;</span>秒杀:&#123;&#123;item.desc&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>	</span><br></pre></td></tr></table></figure>

<p>v-for也支持遍历对象，并且支持有一二三个参数：</p>
<ul>
<li><p>一个参数： “value in object”;</p>
</li>
<li><p>二个参数： “(value, key) in object”;</p>
</li>
<li><p>三个参数： “(value, key, index) in object”;</p>
</li>
</ul>
<p>v-for同时也支持数字的遍历：</p>
<ul>
<li>每一个item都是一个数字；</li>
</ul>
<p>v-for也可以遍历其他可迭代对象(Iterable)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span>遍历对象 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key, index) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;-&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!--<span class="number">2.</span>遍历字符串 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in message&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="number">3.</span>遍历数字 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in 10&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="2-template元素"><a href="#2-template元素" class="headerlink" title="2.template元素"></a>2.template元素</h4><p>类似于v-if，你可以使用 template 元素来循环渲染一段包含多个元素的内容：</p>
<ul>
<li>使用template来对多个元素进行包裹，而不是使用div来完成；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- 如果div没有实际的意义，可以使用template替换 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key, index) in infos&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;value&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">i</span>&gt;</span>&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="3-数组更新检测"><a href="#3-数组更新检测" class="headerlink" title="3.数组更新检测"></a>3.数组更新检测</h4><p>Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新</p>
<p>这些被包裹过的方法包括：</p>
<ul>
<li><p>push()</p>
</li>
<li><p>pop()</p>
</li>
<li><p>shift()</p>
</li>
<li><p>unshift()</p>
</li>
<li><p>splice()</p>
</li>
<li><p>sort()</p>
</li>
<li><p>reverse()</p>
</li>
</ul>
<p>替换数组的方法</p>
<ul>
<li>上面的方法会直接修改原来的数组；</li>
</ul>
<p>但是某些方法不会替换原来的数组，而是会生成新的数组，比如 filter()、concat() 和 slice()</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> &lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in names&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>修改数组<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">names</span>: [<span class="string">&quot;sdw&quot;</span>, <span class="string">&quot;dwdx&quot;</span>, <span class="string">&quot;wwa&quot;</span>]</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="attr">methods</span>: &#123;</span><br><span class="line">       <span class="title function_">btnClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="comment">// 1.将数组修改为新的数组</span></span><br><span class="line">         <span class="comment">// this.names = [&#x27;scs&#x27;,&#x27;dwa&#x27;]</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">// 2.通过一些数组的方法法，修改数组中的元素</span></span><br><span class="line">         <span class="comment">// this.names.push(&quot;ig&quot;)</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">// this.names.splice(2,1,&quot;why&quot;)</span></span><br><span class="line">         <span class="comment">// this.names.sort()</span></span><br><span class="line">         <span class="comment">// this.names.reverse()</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">// 3.不修改原数组的方法是不能侦听（watch）</span></span><br><span class="line">         <span class="keyword">const</span> newNames = <span class="variable language_">this</span>.<span class="property">names</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item + <span class="string">&quot;why&quot;</span>)</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">names</span> = newNames</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-v-for中的key"><a href="#4-v-for中的key" class="headerlink" title="4.v-for中的key"></a>4.v-for中的key</h4><h5 id="1、了解key属性"><a href="#1、了解key属性" class="headerlink" title="1、了解key属性"></a>1、了解key属性</h5><p>在使用v-for进行列表渲染时，我们通常会给元素或者组件绑定一个key属性</p>
<ul>
<li><p>key属性主要用在Vue的虚拟DOM算法，在新旧nodes对比时辨识VNodes</p>
</li>
<li><p>如果不使用key，Vue会使用一种最大限度减少动态元素并且尽可能的尝试就地修改&#x2F;复用相同类型元素的算法</p>
</li>
<li><p>而使用key时，它会基于key的变化重新排列元素顺序，并且会移除&#x2F;销毁key不存在的元素</p>
</li>
</ul>
<h5 id="2、虚拟DOM"><a href="#2、虚拟DOM" class="headerlink" title="2、虚拟DOM"></a>2、虚拟DOM</h5><p>VNode：先理解HTML元素创建出来的VNode</p>
<ul>
<li><p>VNode的全称是Virtual Node，也就是虚拟节点</p>
</li>
<li><p>无论是组件还是元素，它们最终在Vue中表示出来的都是一个个VNode</p>
</li>
<li><p>VNode的本质是一个JavaScript的对象</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410203039359.png" alt="image-20230410203039359"></p>
<p>如果不只是一个简单的div，而是有一堆元素，那么应该会形成一个VNode Tree</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410203141402.png" alt="image-20230410203141402"></p>
<p>作用：</p>
<ul>
<li>跨平台：将对象进行多端的解析，以展示于不同的平台</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410203257959.png" alt="image-20230410203257959"></p>
<ul>
<li>diff 算法</li>
</ul>
<p>案例：点击按钮在 li 插入 f 元素</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&quot;insetF&quot;</span>&gt;插入F&lt;/button&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="comment">&lt;!-- key要求唯一：id --&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">       <span class="title function_">insetF</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">letters</span>.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="string">&quot;f&quot;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<p>这次更新对于ul和button是不需要进行更新，需要更新的是我们li的列表</p>
<ul>
<li><p>在Vue中，对于相同父元素的子元素节点并不会重新渲染整个列表</p>
</li>
<li><p>因为对于列表中 a、b、c、d它们都是没有变化的</p>
</li>
<li><p>在操作真实DOM的时候，我们只需要在中间插入一个f的li即可</p>
</li>
</ul>
<p>Vue中对于列表的更新究竟是如何操作的呢？</p>
<p>Vue事实上会对于有key和没有key会调用两个不同的方法</p>
<ul>
<li><p>有key，那么就使用 patchKeyedChildren方法</p>
</li>
<li><p>没有key，那么久使用 patchUnkeyedChildren方法</p>
</li>
</ul>
<p>在没有key时diff算法效率并不高</p>
<ul>
<li><p>c和d来说它们事实上并不需要有任何的改动</p>
</li>
<li><p>但是c被f所使用了，所有后续所有的内容都要一次进行改动，并且最后进行新增</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410203723802.png" alt="image-20230410203723802"></p>
<h5 id="3、key的作用"><a href="#3、key的作用" class="headerlink" title="3、key的作用"></a>3、key的作用</h5><p>有key的diff算法</p>
<p>第一步的操作是从头开始进行遍历、比较</p>
<ul>
<li><p>a和b是一致的会继续进行比较</p>
</li>
<li><p>c和f因为key不一致，所以就会break跳出循环</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410204040153.png" alt="image-20230410204040153"></p>
<p>第二步的操作是从尾部开始进行遍历、比较</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410204053987.png" alt="image-20230410204053987"></p>
<p>第三步是如果旧节点遍历完毕，但是依然有新的节点，那么就新增节点</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410204020323.png" alt="image-20230410204020323"></p>
<p>第四步是如果新的节点遍历完毕，但是依然有旧的节点，那么就移除旧节点</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410204005807.png" alt="image-20230410204005807"></p>
<p>第五步是最特色的情况，中间还有很多未知的或者乱序的节点</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410203948482.png" alt="image-20230410203948482"></p>
<p>所以可以发现，Vue在进行diff算法的时候，会尽量利用我们的key来进行优化操作</p>
<ul>
<li><p>在没有key的时候我们的效率是非常低效的；</p>
</li>
<li><p>在进行插入或者重置顺序的时候，保持相同的key可以让diff算法更加的高效</p>
</li>
</ul>
<h2 id="3-Options-API"><a href="#3-Options-API" class="headerlink" title="3.Options API"></a>3.Options API</h2><h3 id="1、计算属性computed"><a href="#1、计算属性computed" class="headerlink" title="1、计算属性computed"></a>1、计算属性computed</h3><h4 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h4><p>在模板中可以直接通过插值语法显示一些data中的数据</p>
<p>但是某些情况可能需要对数据进行一些转化后再显示，或者需要将多个数据结合起来进行显示</p>
<ul>
<li><p>比如需要对多个data数据进行运算、三元运算符来决定结果、数据进行某种转化后显示</p>
</li>
<li><p>在模板中使用表达式，可以非常方便的实现，但是设计它们的初衷是用于简单的运算</p>
</li>
<li><p>在模板中放入太多的逻辑会让模板过重和难以维护</p>
</li>
<li><p>并且如果多个地方都使用到，那么会有大量重复的代码</p>
</li>
</ul>
<p>有没有什么方法可以将逻辑抽离出去</p>
<ul>
<li><p>可以，其中一种方式就是将逻辑抽取到一个method中，放到methods的options中</p>
</li>
<li><p>但是这种做法有一个直观的弊端，就是所有的data使用过程都会变成了一个方法的调用</p>
</li>
</ul>
<p>另外一种方式就是使用计算属性computed</p>
<p>计算属性</p>
<ul>
<li><p>官方并没有给出直接的概念解释</p>
</li>
<li><p>而是说：对于任何包含响应式数据的复杂逻辑，你都应该使用计算属性</p>
</li>
<li><p>计算属性将被混入到组件实例中</p>
<ul>
<li>所有 getter 和 setter 的 this 上下文自动地绑定为组件实例；</li>
</ul>
</li>
</ul>
<p>计算属性的用法：</p>
<ul>
<li><p>选项：computed</p>
</li>
<li><p>类型：{ [key: string]: Function | { get: Function, set: Function } }</p>
</li>
</ul>
<h5 id="案例对比实现"><a href="#案例对比实现" class="headerlink" title="案例对比实现"></a>案例对比实现</h5><h6 id="1-模板语法："><a href="#1-模板语法：" class="headerlink" title="1.模板语法："></a>1.模板语法：</h6><ul>
<li><p>缺点一：模板中存在大量的复杂逻辑，不便于维护（模板中表达式的初衷是用于简单的计算）</p>
</li>
<li><p>缺点二：当有多次一样的逻辑时，存在重复的代码</p>
</li>
<li><p>缺点三：多次使用的时候，很多运算也需要多次执行，没有缓存</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- 插值语法表达式直接拼接 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; firstName + &quot; &quot; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.</span>显示等级 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; score &gt;= 60 ? &#x27;及格&#x27; : &#x27;不及格&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">3.</span>反转单词 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; message.split(&quot; &quot;).reverse().join(&quot; &quot;) &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">     <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="comment">// 1.姓名</span></span><br><span class="line">         <span class="attr">firstName</span>: <span class="string">&quot;kobe&quot;</span>,</span><br><span class="line">         <span class="attr">lastName</span>: <span class="string">&quot;bryant&quot;</span>,</span><br><span class="line">         <span class="comment">// 2.分数  及格/不及格</span></span><br><span class="line">         <span class="attr">score</span>: <span class="number">80</span>,</span><br><span class="line">         <span class="comment">// 3.一串文本，对文本中的单词进行反转显示</span></span><br><span class="line">         <span class="attr">message</span>: <span class="string">&#x27;my name is wbh&#x27;</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br></pre></td></tr></table></figure>

<h6 id="2-methods-实现"><a href="#2-methods-实现" class="headerlink" title="2.methods 实现"></a>2.methods 实现</h6><ul>
<li><p>缺点一：我们事实上需要显示的是一个结果，但是都变成了一种方法的调用</p>
</li>
<li><p>缺点二：多次使用方法的时候，没有缓存，也需要多次计算</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">getFullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">scoreLevel</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">score</span> &gt;= <span class="number">60</span> ? <span class="string">&#x27;及格&#x27;</span> : <span class="string">&#x27;不及格&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">reverseMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span>.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h6 id="3-computed-实现"><a href="#3-computed-实现" class="headerlink" title="3.computed 实现"></a>3.computed 实现</h6><ul>
<li><p>注意：计算属性看起来像是一个函数，但是我们在使用的时候不需要加()，这个后面讲setter和getter时会讲到</p>
</li>
<li><p>发现无论是直观上，还是效果上计算属性都是更好的选择</p>
</li>
<li><p>并且计算属性是有缓存的</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">!-- 插值语法表达式直接拼接 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullName &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullName &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">2.</span>显示等级 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; scoreLevel &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   &lt;!-- <span class="number">3.</span>反转单词 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; reverseMessage &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="attr">computed</span>: &#123;</span><br><span class="line">       <span class="comment">// 1.计算属性默认对应的是一个函数</span></span><br><span class="line">       <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="title function_">scoreLevel</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">score</span> &gt;= <span class="number">60</span> ? <span class="string">&quot;及格&quot;</span> : <span class="string">&quot;不及格&quot;</span></span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="title function_">reverseMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span>.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-computed-和-methods-的区别"><a href="#2-computed-和-methods-的区别" class="headerlink" title="2.computed 和 methods 的区别"></a>2.computed 和 methods 的区别</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">     <span class="title function_">getFullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;methods--------&quot;</span>)  <span class="comment">// 调用几次执行几次</span></span><br><span class="line">       <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="title function_">changeLastName</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">lastName</span> = <span class="string">&quot;why&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">computed</span>: &#123;</span><br><span class="line">     <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--------&quot;</span>) <span class="comment">//执行一次 会有缓存</span></span><br><span class="line">       <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;	</span><br></pre></td></tr></table></figure>

<p>原因：</p>
<ul>
<li><p>计算属性会基于它们的依赖关系进行缓存</p>
</li>
<li><p>在数据不发生变化时，计算属性是不需要重新计算的</p>
</li>
<li><p>但是如果依赖的数据发生变化，在使用时，计算属性依然会重新进行计算</p>
</li>
</ul>
<h4 id="3-computed-的-setter-和-getter"><a href="#3-computed-的-setter-和-getter" class="headerlink" title="3.computed 的 setter 和 getter"></a>3.computed 的 setter 和 getter</h4><p>计算属性在大多数情况下，只需要一个getter方法即可，所以我们会将计算属性直接写成一个函数</p>
<p>如果我们确实想设置计算属性的值，也可以给计算属性设置一个setter的方法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; fullname &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;setFullName&quot;</span>&gt;</span>设置fullname<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;	  </span><br><span class="line"> <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">setFullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullname</span> = <span class="string">&quot;coder why&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,	  </span><br><span class="line"> <span class="attr">computed</span>: &#123;</span><br><span class="line">      <span class="comment">// 语法糖的写法：</span></span><br><span class="line">      <span class="comment">// fullname() &#123;</span></span><br><span class="line">      <span class="comment">//   return this.firstName + &quot; &quot; + this.lastName</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 完整的写法:</span></span><br><span class="line">      <span class="attr">fullname</span>: &#123;</span><br><span class="line">        <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">set</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> names = value.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>)</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">firstName</span> = names[<span class="number">0</span>]</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">lastName</span> = names[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>源码对setter和getter的处理</p>
<ul>
<li>Vue源码内部只是做了一个逻辑判断而已</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230410210215389.png" alt="image-20230410210215389"></p>
<h3 id="2、侦听器watch"><a href="#2、侦听器watch" class="headerlink" title="2、侦听器watch"></a>2、侦听器watch</h3><h4 id="1-什么是侦听器"><a href="#1-什么是侦听器" class="headerlink" title="1.什么是侦听器"></a>1.什么是侦听器</h4><ul>
<li><p>开发中我们在data返回的对象中定义了数据，这个数据通过插值语法等方式绑定到template中</p>
</li>
<li><p>当数据变化时，template会自动进行更新来显示最新的数据</p>
</li>
<li><p>但是在某些情况下，我们希望在代码逻辑中监听某个数据的变化，这个时候就需要用侦听器watch来完成</p>
</li>
</ul>
<p>用法：</p>
<ul>
<li>选项：watch</li>
<li>类型：{ [key: string]: string | Function | Object | Array}</li>
</ul>
<h4 id="2-基本侦听"><a href="#2-基本侦听" class="headerlink" title="2.基本侦听"></a>2.基本侦听</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span>修改message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;	  </span><br><span class="line"></span><br><span class="line"> <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span>,</span><br><span class="line">        <span class="attr">infos</span>: &#123; <span class="attr">name</span>:<span class="string">&#x27;why&#x27;</span>, <span class="attr">age</span>: <span class="number">23</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;dwsa&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">infos</span> = &#123; <span class="attr">name</span>:<span class="string">&#x27;kobe&#x27;</span> &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">      <span class="comment">// 1.默认有两个参数：newValue/oldVale</span></span><br><span class="line">      <span class="title function_">message</span>(<span class="params">newValue, oldValue</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;message数据发生了变化&quot;</span>, newValue, oldValue)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">infos</span>(<span class="params">newValue, oldValue</span>) &#123;</span><br><span class="line">        <span class="comment">// 2.如果是对象类型，那么拿到的是代理对象 proxy</span></span><br><span class="line">        <span class="comment">// console.log(&quot;infos数据发生了变化&quot;, oldValue, newValue)</span></span><br><span class="line">        <span class="comment">// console.log(newValue.name, oldValue.name)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.获取原始对象</span></span><br><span class="line">        <span class="comment">// console.log(&#123; ...newValue &#125;)</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Vue</span>.<span class="title function_">toRaw</span>(oldValue))</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-侦听选项"><a href="#3-侦听选项" class="headerlink" title="3.侦听选项"></a>3.侦听选项</h4><p>例子:当我们点击按钮的时候会修改info.name的值</p>
<ul>
<li><p>这个时候使用watch来侦听info，可以侦听到吗？答案是不可以</p>
</li>
<li><p>这是因为默认情况下，watch只是在侦听info的引用变化，对于内部属性的变化是不会做出响应的</p>
<ul>
<li>这个时候我们可以使用一个选项deep进行更深层的侦听；</li>
</ul>
</li>
</ul>
<p>注意前面我们说过watch里面侦听的属性对应的也可以是一个Object</p>
<p>还有另外一个属性，是希望一开始的就会立即执行一次：</p>
<ul>
<li><p>使用immediate选项；</p>
</li>
<li><p>这个时候无论后面数据是否有变化，侦听的函数都会先执行一次</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">       <span class="attr">infos</span>: &#123; <span class="attr">name</span>:<span class="string">&#x27;why&#x27;</span>, <span class="attr">age</span>: <span class="number">23</span>&#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">methods</span>: &#123;</span><br><span class="line">     <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="comment">// 1.创建一个新对象，赋值给info</span></span><br><span class="line">       <span class="comment">// this.infos = &#123; name:&#x27;kobe&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">// 2.直接修改原对象的某一个属性</span></span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">infos</span>.<span class="property">name</span> = <span class="string">&quot;kobe&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">watch</span>: &#123;</span><br><span class="line">     <span class="comment">// 默认watch的监听不会进行深度监听</span></span><br><span class="line">     <span class="comment">// infos(newValue, oldValue) &#123;</span></span><br><span class="line">     <span class="comment">//   console.log(&quot;侦听infos改变&quot;,newValue, oldValue)</span></span><br><span class="line">     <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 进行深度监听</span></span><br><span class="line">     <span class="attr">infos</span>: &#123;</span><br><span class="line">       <span class="title function_">handler</span>(<span class="params">newValue, oldValue</span>) &#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;侦听infos改变&quot;</span>, newValue, oldValue)</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue === oldValue)</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="comment">// 监听器的一个配置选项</span></span><br><span class="line">       <span class="comment">// infos进行深度监听</span></span><br><span class="line">       <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">       <span class="comment">// 第一次渲染直接执行一次监听器</span></span><br><span class="line">       <span class="attr">immediate</span>: <span class="literal">true</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="comment">// 监听name得到改变</span></span><br><span class="line">     <span class="string">&quot;infos.name&quot;</span>: <span class="keyword">function</span>(<span class="params">newValue, oldValue</span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;侦听infos.name改变&quot;</span>, newValue, oldValue)</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-其他的写法"><a href="#4-其他的写法" class="headerlink" title="4.其他的写法"></a>4.其他的写法</h4><p>可以在created的生命周期中，使用this.$watchs 来侦听</p>
<ul>
<li><p>第一个参数是要侦听的源</p>
</li>
<li><p>第二个参数是侦听的回调函数callback</p>
</li>
<li><p>第三个参数是额外的其他选项，比如deep、immediate</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 生命周期的回调函数:当前的组件被创建时自动执行</span></span><br><span class="line">   <span class="comment">// 一般在该函数中，会进行网络请求</span></span><br><span class="line">   <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;created&quot;</span>)</span><br><span class="line"></span><br><span class="line">     <span class="variable language_">this</span>.$watch(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;message数据变化&quot;</span>,newValue, oldValue)</span><br><span class="line">     &#125;, &#123;<span class="attr">deep</span>: <span class="literal">true</span>, <span class="attr">immediate</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>



<h3 id="3、阶段练习"><a href="#3、阶段练习" class="headerlink" title="3、阶段练习"></a>3、阶段练习</h3><p>书籍购物车案例</p>
<h2 id="4-Vue-的双向绑定"><a href="#4-Vue-的双向绑定" class="headerlink" title="4. Vue 的双向绑定"></a>4. Vue 的双向绑定</h2><h3 id="1、基本使用"><a href="#1、基本使用" class="headerlink" title="1、基本使用"></a>1、基本使用</h3><p>表单提交是开发中非常常见的功能，也是和用户交互的重要手段：</p>
<ul>
<li><p>比如用户在登录、注册时需要提交账号密码</p>
</li>
<li><p>比如用户在检索、创建、更新信息时，需要提交一些数据</p>
</li>
</ul>
<p>这些都要求我们能在代码逻辑中获取到用户提交的数据，通常会使用v-model指令来完成</p>
<ul>
<li><p>v-model指令可以在表单 input、textarea以及select元素上创建双向数据绑定</p>
</li>
<li><p>它会根据控件类型自动选取正确的方法来更新元素</p>
</li>
<li><p>尽管有些神奇，但 v-model 本质上不过是语法糖，它负责监听用户的输入事件来更新数据，并在某种极端场景下进行一些特殊处理</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;message&quot;</span>&gt;</span><br></pre></td></tr></table></figure>



<h3 id="2、v-model-的原理"><a href="#2、v-model-的原理" class="headerlink" title="2、v-model 的原理"></a>2、v-model 的原理</h3><ul>
<li><p>v-bind绑定value属性的值</p>
</li>
<li><p>v-on绑定input事件监听到函数中，函数会获取最新的值赋值到绑定的属性中</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> :value=<span class="string">&quot;message&quot;</span> @input=<span class="string">&quot;inputChange&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412110510508.png" alt="image-20230412110510508"></p>
<p>事实上v-model更加复杂</p>
<h3 id="3、绑定其他类型"><a href="#3、绑定其他类型" class="headerlink" title="3、绑定其他类型"></a>3、绑定其他类型</h3><h4 id="1-v-model-绑定-textarea"><a href="#1-v-model-绑定-textarea" class="headerlink" title="1.v-model 绑定 textarea"></a>1.v-model 绑定 textarea</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;textarea cols=<span class="string">&quot;30&quot;</span> rows=<span class="string">&quot;10&quot;</span> v-model=<span class="string">&quot;content&quot;</span>&gt;&lt;/textarea&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="2-v-model-绑定-checkbox"><a href="#2-v-model-绑定-checkbox" class="headerlink" title="2.v-model 绑定 checkbox"></a>2.v-model 绑定 checkbox</h4><h5 id="单选框"><a href="#单选框" class="headerlink" title="单选框"></a>单选框</h5><ul>
<li><p>v-model 即为布尔值。</p>
</li>
<li><p>此时 input 的 value 属性并不影响 v-model 的值</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;!-- <span class="number">1.</span>checkbox单选框，绑定到属性的值是一个<span class="title class_">Boolean</span> --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;agree&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;agree&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;isAgree&quot;</span>&gt;</span> 同意协议</span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">isAgree: false</span></span><br></pre></td></tr></table></figure>

<h5 id="多选框"><a href="#多选框" class="headerlink" title="多选框"></a>多选框</h5><ul>
<li><p>当是多个复选框时，因为可以选中多个，所以对应的 data 中属性是一个数组</p>
</li>
<li><p>当选中某一个时，就会将 input 的 value 添加到数组中</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;label <span class="keyword">for</span>=<span class="string">&quot;sing&quot;</span>&gt;</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;sing&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sing&quot;</span>&gt;</span> 唱</span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;jump&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;jump&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jump&quot;</span>&gt;</span> 跳</span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">hobbies: []</span></span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412110951563.png" alt="image-20230412110951563" style="zoom: 50%;" />



<h4 id="3-v-model-绑定-radio"><a href="#3-v-model-绑定-radio" class="headerlink" title="3.v-model 绑定 radio"></a>3.v-model 绑定 radio</h4><p>v-model 绑定 radio，用于选择其中一项</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;div <span class="keyword">class</span>=<span class="string">&quot;gender&quot;</span>&gt;</span><br><span class="line">     &lt;!-- v-model绑定同一个值 会自动radio的互斥 可以不需要name属性--&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span> 男</span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span> 女de</span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">h2</span>&gt;</span>性别：&#123;&#123;gender&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">gender: &quot;male&quot;  // 可以默认初始值</span></span><br></pre></td></tr></table></figure>



<h4 id="4-v-model-绑定-select"><a href="#4-v-model-绑定-select" class="headerlink" title="4.v-model 绑定 select"></a>4.v-model 绑定 select</h4><p>单选：只能选中一个值</p>
<ul>
<li><p>v-model 绑定的是一个值</p>
</li>
<li><p>当我们选中 option 中的一个时，会将它对应的 value 赋值到 fruit 中</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;!-- select的单选   v-model 绑定到的是 select 中--&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;fruit&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;orange&quot;</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;banana&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="attr">fruit</span>: <span class="string">&quot;orange&quot;</span>  <span class="comment">// 默认值</span></span><br></pre></td></tr></table></figure>

<p>多选：可以选中多个值</p>
<ul>
<li><p>v-model绑定的是一个数组</p>
</li>
<li><p>当选中多个值时，就会将选中的option对应的value添加到数组fruit中</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;select multiple size=<span class="string">&quot;3&quot;</span> v-model=<span class="string">&quot;fruits&quot;</span>&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;apple&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;orange&quot;</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;banana&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line">   &lt;/select&gt;</span><br><span class="line"></span><br><span class="line"><span class="attr">fruits</span>: []</span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412111708135.png" alt="image-20230412111708135" style="zoom: 67%;" />



<h4 id="5-v-model-的值绑定"><a href="#5-v-model-的值绑定" class="headerlink" title="5.v-model 的值绑定"></a>5.v-model 的值绑定</h4><p>目前我们在前面的案例中大部分的值都是在template中固定好的：</p>
<ul>
<li><p>比如gender的两个输入框值male、female</p>
</li>
<li><p>比如hobbies的三个输入框值basketball、football</p>
</li>
</ul>
<p>在开发中，数据可能是来自服务器的，那么可以先将值请求下来，绑定到data返回的对象中，再通过v-bind来进行值的绑定，这个过程就是值绑定</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">	&lt;!-- <span class="number">1.</span>select的值绑定 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">multiple</span> <span class="attr">size</span>=<span class="string">&quot;3&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruits&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in allFruits&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.value&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;&#123; item.text &#125;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="number">2.</span>checkbox的值绑定 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;item in allHobbies&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">:id</span>=<span class="string">&quot;item.value&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span> 				&#123;&#123;item.text&#125;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h3 id="4-v-model-修饰符"><a href="#4-v-model-修饰符" class="headerlink" title="4.v-model 修饰符"></a>4.v-model 修饰符</h3><h4 id="1、lazy"><a href="#1、lazy" class="headerlink" title="1、lazy"></a>1、lazy</h4><ul>
<li><p>默认情况下，v-model在进行双向绑定时，绑定的是input事件，那么会在每次内容输入后就将最新的值和绑定的属性进行同步；</p>
</li>
<li><p>如果我们在v-model后跟上lazy修饰符，那么会将绑定的事件切换为 change 事件，只有在提交时（比如回车）才会触发</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-model.<span class="property">lazy</span>=<span class="string">&quot;message&quot;</span>&gt;</span><br></pre></td></tr></table></figure>



<h4 id="2、number"><a href="#2、number" class="headerlink" title="2、number"></a>2、number</h4><p>绑定的 message 总是string类型，即使在我们设置 type 为 number 也是 string 类型</p>
<p>如果希望转换为数字类型，那么可以使用 .number 修饰符：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-model.<span class="property">number</span>=<span class="string">&quot;counter&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>在进行逻辑判断时，如果是一个string和数字类型对比，在可以转化的情况下会进行隐式转换</p>
<p>但typeof 查询的还是字符类型</p>
<h4 id="3、trim"><a href="#3、trim" class="headerlink" title="3、trim"></a>3、trim</h4><p>如果要自动过滤用户输入的守卫空白字符，可以给 v-model 添加 trim 修饰符</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-model.<span class="property">trim</span>=<span class="string">&quot;content&quot;</span>&gt;</span><br></pre></td></tr></table></figure>



<h4 id="4、多个修饰符一起使用"><a href="#4、多个修饰符一起使用" class="headerlink" title="4、多个修饰符一起使用"></a>4、多个修饰符一起使用</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-model.<span class="property">lazy</span>.<span class="property">trim</span>=<span class="string">&quot;content2&quot;</span>&gt;</span><br></pre></td></tr></table></figure>



<h2 id="5-组件化开发"><a href="#5-组件化开发" class="headerlink" title="5.组件化开发"></a>5.组件化开发</h2><h3 id="1、认识组件化开发"><a href="#1、认识组件化开发" class="headerlink" title="1、认识组件化开发"></a>1、认识组件化开发</h3><h4 id="1-开发思想"><a href="#1-开发思想" class="headerlink" title="1.开发思想"></a>1.开发思想</h4><ul>
<li><p>如果将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展</p>
</li>
<li><p>但如果们把一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易</p>
</li>
<li><p>如果将一个个功能块拆分后，就可以像搭建积木一下来搭建我们的项目</p>
</li>
</ul>
<p>现在可以说整个的大前端开发都是组件化的天下</p>
<ul>
<li><p>无论从三大框架（Vue、React、Angular），还是跨平台方案的Flutter，甚至是移动端都在转向组件化开发，包括小程序的开发也是采用组件化开发的思想</p>
</li>
<li><p>所以，学习组件化最重要的是它的思想，每个框架或者平台可能实现方法不同，但是思想都是一样的</p>
</li>
</ul>
<p>组件化思想构建程序</p>
<ul>
<li><p>将一个完整的页面分成很多个组件</p>
</li>
<li><p>每个组件都用于实现页面的一个功能块</p>
</li>
<li><p>而每一个组件又可以进行细分</p>
</li>
<li><p>而组件本身又可以在多个地方进行复用</p>
</li>
</ul>
<h4 id="2-Vue-的组件化"><a href="#2-Vue-的组件化" class="headerlink" title="2.Vue 的组件化"></a>2.Vue 的组件化</h4><ul>
<li>createApp 函数传入了一个对象App，这个对象本质上就是一个组件，也是应用程序的根组件</li>
<li>组件化提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用</li>
<li>任何的应用都会被抽象成一颗组件树</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412113210135.png" alt="image-20230412113210135"></p>
<h3 id="2、注册组件"><a href="#2、注册组件" class="headerlink" title="2、注册组件"></a>2、注册组件</h3><p>注册组件分成两种：</p>
<ul>
<li><p>全局组件：在任何其他的组件中都可以使用的组件</p>
</li>
<li><p>局部组件：只有在注册的组件中才能使用的组件</p>
</li>
</ul>
<h4 id="1-注册全局组件"><a href="#1-注册全局组件" class="headerlink" title="1.注册全局组件"></a>1.注册全局组件</h4><ul>
<li><p>全局组件需要使用我们全局创建的app来注册组件</p>
</li>
<li><p>通过 component 方法传入组件名称、组件对象即可注册一个全局组件</p>
</li>
<li><p>之后，可以在 App 组件的template中直接使用这个全局组件</p>
</li>
<li><p>组件本身也可以有自己的代码逻辑，比如自己的data、methods等</p>
</li>
<li><p>全局组件的特点是：一旦注册成功后，可以在任意其他组件的template中使用</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- 组件 product-item的模板 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span>	 </span><br><span class="line">   <span class="number">1.</span>通过app.<span class="property">component</span>（组件名称，组件的对象）</span><br><span class="line">    <span class="number">2.</span>在<span class="title class_">App</span>组件的模板中，可以直接使用product-item的组件</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1.组件：App组件（根组件）</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title class_">App</span> = &#123;&#125;</span><br><span class="line">  <span class="comment">// 2.创建app</span></span><br><span class="line">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.注册一个全局组件</span></span><br><span class="line">  <span class="comment">// product-item全局组件</span></span><br><span class="line">  app.<span class="title function_">component</span>(<span class="string">&quot;product-item&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// 通过 id 使用在html中构建的模板 </span></span><br><span class="line">    <span class="attr">template</span>: <span class="string">&quot;#item&quot;</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>



<h4 id="2-组件的名称"><a href="#2-组件的名称" class="headerlink" title="2.组件的名称"></a>2.组件的名称</h4><p>通过app.component注册一个组件的时候，第一个参数是组件的名称</p>
<p>方法1：使用kebab-case（短横线分割符）</p>
<ul>
<li>当使用 kebab-case  定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case</li>
</ul>
<p>方法2：使用PascalCase（驼峰标识符）大驼峰</p>
<ul>
<li><p>当使用 PascalCase 定义一个组件时，你在引用这个自定义元素时两种命名法都可以使用</p>
</li>
<li><p>也就是说 my-component-name 和 MyComponentName 都是可接受的（大驼峰标签在.vue文件中才生效，在 html 文件中不能使用）</p>
</li>
</ul>
<h4 id="3-局部组件"><a href="#3-局部组件" class="headerlink" title="3.局部组件"></a>3.局部组件</h4><p>全局组件往往是在应用程序一开始就会全局组件完成，那么就意味着某些组件就算没有用到也会一起被注册：</p>
<ul>
<li><p>比如注册了三个全局组件：ComponentA、ComponentB、ComponentC；</p>
</li>
<li><p>在开发中我们只使用了ComponentA、ComponentB，如果ComponentC没有用到但是我们依然在全局进行了注册，那么就意味着类似于webpack这种打包工具在打包项目时，依然会对其进行打包；</p>
</li>
<li><p>这样最终打包出的 JavaScript 包就会有关于 ComponentC 的内容，用户在下载对应的 JavaScript 时也会增加包的大小；</p>
</li>
</ul>
<p>开发中通常在使用组件的时候采用的都是局部注册：</p>
<ul>
<li><p>局部注册是在我们需要使用到的组件中，通过components属性选项来进行注册</p>
</li>
<li><p>比如之前的App组件中，我们有data、computed、methods等选项了，还可以有一个components选项</p>
</li>
<li><p>该components选项对应的是一个对象，对象中的键值对是 组件的名称: 组件对象</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">ProductItem</span> = &#123;</span><br><span class="line">     <span class="attr">template</span>: <span class="string">&quot;#product&quot;</span>,</span><br><span class="line">       <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> &#123;</span><br><span class="line">           <span class="attr">title</span>: <span class="string">&quot;我是商品&quot;</span>,</span><br><span class="line">           <span class="attr">price</span>: <span class="number">99.9</span></span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;	</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.创建app</span></span><br><span class="line">   <span class="comment">// 1.1组件打算在哪里被使用</span></span><br><span class="line">     <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">     <span class="comment">// components: option api</span></span><br><span class="line">     <span class="attr">components</span>: &#123;</span><br><span class="line">       <span class="title class_">ProductItem</span>,   <span class="comment">// 对象抽出来了</span></span><br><span class="line">       <span class="title class_">HomeNav</span>: &#123;</span><br><span class="line">         <span class="attr">template</span>: <span class="string">&quot;#nav&quot;</span>,</span><br><span class="line">         <span class="attr">components</span>: &#123;</span><br><span class="line">           <span class="title class_">ProductItem</span></span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>



<h3 id="3、Vue-的开发模式"><a href="#3、Vue-的开发模式" class="headerlink" title="3、Vue 的开发模式"></a>3、Vue 的开发模式</h3><p>目前使用vue的过程都是在html文件中，通过template编写自己的模板、脚本逻辑、样式等。</p>
<p>n但是随着项目越来越复杂，我们会采用组件化的方式来进行开发：</p>
<ul>
<li><p>这意味着每个组件都会有自己的模板、脚本逻辑、样式等</p>
</li>
<li><p>依然可以把它们抽离到单独的js、css文件中，但是它们还是会分离开来</p>
</li>
<li><p>也包括我们的script是在一个全局的作用域下，很容易出现命名冲突的问题；</p>
</li>
<li><p>并且我们的代码为了适配一些浏览器，必须使用ES5的语法；</p>
</li>
<li><p>在我们编写代码完成之后，依然需要通过工具对代码进行构建、代码；</p>
</li>
</ul>
<p>所以开发中，可以通过一个后缀名为 .vue的single-file-components (单文件组件)来解决，并且可以使用webpack或vite或rollup等构建工具来对其进行处理</p>
<p>单文件的特点</p>
<p>在这个组件中我们可以获得非常多的特性：</p>
<ul>
<li><p>代码的高亮</p>
</li>
<li><p>ES6、CommonJS的模块化能力</p>
</li>
<li><p>组件作用域的CSS</p>
</li>
<li><p>可以使用预处理器来构建更加丰富的组件，比如TypeScript、Babel、Less、Sass等</p>
</li>
</ul>
<p>如何支持 SFC</p>
<p>使用SFC的.vue文件比较常见的两种方式</p>
<ul>
<li><p>方式一：使用Vue CLI来创建项目，项目会默认帮助我们配置好所有的配置选项，可以在其中直接使用.vue文件</p>
</li>
<li><p>方式二：自己使用webpack或rollup或vite这类打包工具，对其进行打包处理</p>
</li>
</ul>
<p>VSCode对SFC的支持</p>
<ul>
<li><p>插件一：Vetur，从Vue2开发就一直在使用的VSCode支持Vue的插件</p>
</li>
<li><p>插件二：Volar，官方推荐的插件</p>
</li>
</ul>
<h3 id="4、Vue-CLI-脚手架"><a href="#4、Vue-CLI-脚手架" class="headerlink" title="4、Vue CLI 脚手架"></a>4、Vue CLI 脚手架</h3><h4 id="1-什么是脚手架"><a href="#1-什么是脚手架" class="headerlink" title="1.什么是脚手架"></a>1.什么是脚手架</h4><ul>
<li><p>在真实开发中，我们通常会使用脚手架来创建一个项目，Vue的项目我们使用的就是Vue的脚手架</p>
</li>
<li><p>脚手架其实是建筑工程中的一个概念，在软件工程中也会将一些帮助我们搭建项目的工具称之为脚手架</p>
</li>
</ul>
<p>Vue的脚手架就是Vue CLI</p>
<ul>
<li><p>CLI是Command-Line Interface, 翻译为命令行界面</p>
</li>
<li><p>可以通过CLI选择项目的配置和创建出我们的项目</p>
</li>
<li><p>Vue CLI已经内置了webpack相关的配置，我们不需要从零来配置</p>
</li>
</ul>
<h4 id="2-Vue-CLI-安装和使用"><a href="#2-Vue-CLI-安装和使用" class="headerlink" title="2.Vue CLI 安装和使用"></a>2.Vue CLI 安装和使用</h4><p>安装 Vue CLI</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">全局安装：npm install @vue/cli -g</span><br><span class="line">升级：npm update @vue/cli -g</span><br><span class="line">查看版本：vue -V</span><br><span class="line">通过<span class="title class_">Vue</span>创建项目：vue create 项目名称</span><br></pre></td></tr></table></figure>

<p>使用</p>
<p>引入 Vue 的版本：</p>
<ul>
<li>App 对象可以在 App.vue 中引入，这样引入 Vue 的版本是：<ul>
<li>import { createApp } from ‘vue’</li>
</ul>
</li>
<li>也能在 main.js 中自己定义 App 对象，这样引入 Vue 的版本是：<ul>
<li>import { createApp } from ‘vue&#x2F;dist&#x2F;vue.esm-bundler’</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br></pre></td></tr></table></figure>



<p>在 App.vue 文件中设置根组件导出，并在 main.js 中导入注册挂载</p>
<p>全局组件也是类似的方法，需要使用 app.component 进行全局注册</p>
<p>局部组件则需要在使用的地方导入并注册就行</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 根组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 全局组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ProductItem</span> <span class="keyword">from</span> <span class="string">&#x27;./ProductItem.vue&#x27;</span></span><br><span class="line">app.<span class="title function_">component</span>(<span class="string">&quot;product-item&quot;</span>, <span class="title class_">ProductItem</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 局部组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ProductItem</span> <span class="keyword">from</span> <span class="string">&#x27;./ProductItem.vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">components</span>: &#123; <span class="title class_">ProductItem</span> &#125;,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&quot;我也是标题&quot;</span>,</span><br><span class="line">      <span class="attr">counter</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-项目文件夹说明"><a href="#3-项目文件夹说明" class="headerlink" title="3.项目文件夹说明"></a>3.项目文件夹说明</h4><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412143013515.png" alt="image-20230412143013515" style="zoom: 50%;" />



<h4 id="4-Vue-CLI-的运行原理"><a href="#4-Vue-CLI-的运行原理" class="headerlink" title="4.Vue CLI 的运行原理"></a>4.Vue CLI 的运行原理</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412143116839.png" alt="image-20230412143116839"></p>
<h4 id="5-补充"><a href="#5-补充" class="headerlink" title="5.补充"></a>5.补充</h4><h5 id="1、jsconfig-json"><a href="#1、jsconfig-json" class="headerlink" title="1、jsconfig.json"></a>1、jsconfig.json</h5><p>作用：给vscode来进行读取，vscode在读取到其中的内容时，给我们的代码更友好的支持</p>
<p>比如在一个文件嵌套很深的条件下，需要调用上层的函数，就会出现..&#x2F;..&#x2F;..&#x2F;这种不友好的路径表现，可以配置 vue.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">      <span class="comment">// 配置路径别名</span></span><br><span class="line">      <span class="comment">// @是已经配置好的路径别名：对应的是src的路径</span></span><br><span class="line">      <span class="attr">alias</span>: &#123;</span><br><span class="line">        <span class="string">&quot;utils&quot;</span>: <span class="string">&quot;@/utils&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>这样可以直接使用配置好的路径，但是 vscode 并不对对此有所提示</p>
<p>就该配置 jsconfig.json 文件的 path，就能得到友好的代码提示</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;utils/*&quot;</span>: [</span><br><span class="line">     <span class="string">&quot;src/utils/*&quot;</span></span><br><span class="line">   ]</span><br></pre></td></tr></table></figure>



<h5 id="2、引入Vue的版本"><a href="#2、引入Vue的版本" class="headerlink" title="2、引入Vue的版本"></a>2、引入Vue的版本</h5><p>上文有说明使用的区别</p>
<p>出现这种情况的本质：</p>
<ul>
<li>在以前创建 vue 项目时会出现选择 runtime  &#x2F; runtime + compile 编译两种选择</li>
<li>编译并不是说其不会编译 vue 文件，而是指对别的对象（vue文件之外）中的 template 模板中元素的编译</li>
<li>而默认版本是 vue，不会对上者情况的 template 编译，因为没有 compile 源码对其进行编译</li>
<li>所以在 main.js 中创建 App 根组件并使用的话，使用默认 vue 并不会对其进行渲染</li>
<li>这时该选择 vue.esm-bundler 版本</li>
</ul>
<h5 id="3、style-的作用域"><a href="#3、style-的作用域" class="headerlink" title="3、style 的作用域"></a>3、style 的作用域</h5><p>每一个组件都应该存在自己独立的作用域，不然在使用时会重复的覆盖，不便于对每一个组件的样式进行设置</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;&lt;/style scoped&gt;</span><br></pre></td></tr></table></figure>



<h5 id="4、vite-创建-vue-项目"><a href="#4、vite-创建-vue-项目" class="headerlink" title="4、vite 创建 vue 项目"></a>4、vite 创建 vue 项目</h5><p>创建 vue 项目的方式</p>
<p>方式1：vue cli：vue create   -&gt; 基于 webpack</p>
<p>方式2：npm init vue@latest  -&gt; 基于 vite</p>
<ul>
<li>1.安装一个本地工具：create-vue</li>
<li>2.使用create-vue创建一个 vue 项目</li>
</ul>
<p>编译速度更快，和其底层有关系</p>
<h2 id="6-组件间的通信"><a href="#6-组件间的通信" class="headerlink" title="6.组件间的通信"></a>6.组件间的通信</h2><h3 id="1、组件的嵌套关系"><a href="#1、组件的嵌套关系" class="headerlink" title="1、组件的嵌套关系"></a>1、组件的嵌套关系</h3><p>在之前只是创建了一个组件App</p>
<p>如果一个应用程序将所有的逻辑都放在一个组件中，那么这个组件就会变成非常的臃肿和难以维护</p>
<ul>
<li><p>所以组件化的核心思想应该是对组件进行拆分，拆分成一个个小的组件</p>
</li>
<li><p>再将这些组件组合嵌套在一起，最终形成我们的应用程序</p>
</li>
</ul>
<p>将所有的代码逻辑全部放到一个组件中，代码是非常的臃肿和难以维护的</p>
<ul>
<li><p>并且在开发中，会有更多的内容和代码逻辑，对于扩展性和可维护性来说都是非 常差的</p>
</li>
<li><p>所以，在真实的开发中会对组件进行拆分，拆分成一个个功能的小组件</p>
</li>
</ul>
<p>将各模块抽为单独的局部组件，在使用的地方进行引入</p>
<h4 id="组件的拆分"><a href="#组件的拆分" class="headerlink" title="组件的拆分"></a>组件的拆分</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412190521688.png" alt="image-20230412190521688"></p>
<h3 id="2、父组件传递子组件"><a href="#2、父组件传递子组件" class="headerlink" title="2、父组件传递子组件"></a>2、父组件传递子组件</h3><p>上面的嵌套逻辑如下，它们存在如下关系：</p>
<ul>
<li><p>App组件是Header、Main、Footer组件的父组件</p>
</li>
<li><p>Main组件是Banner、ProductList组件的父组件</p>
</li>
</ul>
<p>在开发过程中，我们会经常遇到需要组件之间相互进行通信：</p>
<ul>
<li><p>比如App可能使用了多个Header，每个地方的Header展示的内容不同，那么我们就需要使用者传递给Header一些数据，让其进行展示</p>
</li>
<li><p>又比如我们在Main中一次性请求了Banner数据和ProductList数据，那么就需要传递给它们来进行展示</p>
</li>
<li><p>也可能是子组件中发生了事件，需要由父组件来完成某些操作，那就需要子组件向父组件传递事件</p>
</li>
</ul>
<p>总之，在一个Vue项目中，组件之间的通信是非常重要的环节</p>
<h4 id="1-父子组件之间通信的方式"><a href="#1-父子组件之间通信的方式" class="headerlink" title="1.父子组件之间通信的方式"></a>1.父子组件之间通信的方式</h4><ul>
<li><p>父组件传递给子组件：通过props属性</p>
</li>
<li><p>子组件传递给父组件：通过$emit触发事件</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412204202490.png" alt="image-20230412204202490"></p>
<h4 id="2-父传子方法"><a href="#2-父传子方法" class="headerlink" title="2.父传子方法"></a>2.父传子方法</h4><p>通过props来完成组件之间的通信</p>
<p>什么是Props</p>
<ul>
<li><p>Props是你可以在组件上注册一些自定义的attribute</p>
</li>
<li><p>父组件给这些attribute赋值，子组件通过attribute的名称获取到对应的值</p>
</li>
</ul>
<p>Props有两种常见的用法</p>
<ul>
<li><p>方式一：字符串数组，数组中的字符串就是attribute的名称</p>
</li>
<li><p>方式二：对象类型，对象类型我们可以在指定attribute名称的同时，指定它需要传递的类型、是否是必须的、默认值等等；</p>
</li>
</ul>
<h5 id="1、Props-的数组用法"><a href="#1、Props-的数组用法" class="headerlink" title="1、Props 的数组用法"></a>1、Props 的数组用法</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件：</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;infos&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>姓名： &#123;&#123;name&#125;&#125; <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>年龄： &#123;&#123;age&#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;others&quot;</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// propos 作用：接受父组件传递过来的属性</span></span><br><span class="line">    <span class="comment">// 数组语法</span></span><br><span class="line">    <span class="comment">// 弊端：1&gt; 不能对类型进行验证 2&gt; 没有默认值的</span></span><br><span class="line">    <span class="comment">// props: [&quot;name&quot;, &quot;age&quot;, &quot;height&quot;]</span></span><br><span class="line"></span><br><span class="line">父组件：</span><br><span class="line"><span class="comment">// 补充 使用子组件的时候可以使用单标签，与双标签的区别在插槽中讲</span></span><br><span class="line">  &lt;show-infos name=<span class="string">&quot;mas&quot;</span> age=<span class="string">&quot;23&quot;</span>&gt;&lt;/show-infos&gt;</span><br></pre></td></tr></table></figure>



<h5 id="2、Props-的对象用法"><a href="#2、Props-的对象用法" class="headerlink" title="2、Props 的对象用法"></a>2、Props 的对象用法</h5><p>数组用法中我们只能说明传入的attribute的名称，并不能对其进行任何形式的限制，接下来我们来看一下对象的写法是如何让 我们的props变得更加完善的</p>
<p>当使用对象语法的时候，我们可以对传入的内容限制更多：</p>
<ul>
<li><p>比如指定传入的attribute的类型</p>
</li>
<li><p>比如指定传入的attribute是否是必传的</p>
</li>
<li><p>比如指定没有传入时，attribute的默认值</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">     <span class="attr">name</span>: &#123;</span><br><span class="line">       <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">       <span class="attr">default</span>: <span class="string">&quot;默认值&quot;</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="attr">age</span>: &#123;</span><br><span class="line">       <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">       <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">       <span class="attr">default</span>: <span class="number">10</span></span><br><span class="line">     &#125;,</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h5 id="3、type-的类型"><a href="#3、type-的类型" class="headerlink" title="3、type 的类型"></a>3、type 的类型</h5><p>String、Number、Boolean、Array、Object、Date、Function、Symbol</p>
<p>对象类型的其他写法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 重要的原则：对象类型写默认值时，需要编写default的函数，函数返回默认值</span></span><br><span class="line">      <span class="attr">friend</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">        <span class="attr">default</span>: <span class="function">() =&gt;</span> (&#123; <span class="attr">name</span>: <span class="string">&quot;james&quot;</span> &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">hobbies</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">Array</span>,</span><br><span class="line">        <span class="attr">default</span>: <span class="function">() =&gt;</span> [<span class="string">&quot;篮球&quot;</span>, <span class="string">&quot;rap&quot;</span>]</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230412205345651.png" alt="image-20230412205345651"></p>
<h5 id="4、Props的大小写"><a href="#4、Props的大小写" class="headerlink" title="4、Props的大小写"></a>4、Props的大小写</h5><p>Prop 的大小写命名(camelCase vs kebab-case)</p>
<ul>
<li><p>HTML 中的 attribute 名是大小写不敏感的，所以浏览器会把所有大写字符解释为小写字符</p>
</li>
<li><p>这意味着当你使用 DOM 中的模板时，camelCase (驼峰命名法) 的 prop 名需要使用其等价的 kebab-case (短横线分隔命名)  命名</p>
</li>
</ul>
<p>即在 props 中使用小驼峰，在父组件中传递过来可以使用小驼峰也能使用 - 连接</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">show-message=<span class="string">&quot;哈哈哈&quot;</span></span><br><span class="line">showMessage=<span class="string">&quot;哈哈哈&quot;</span></span><br><span class="line">	  <span class="attr">showMessage</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">        <span class="attr">default</span>: <span class="string">&quot;dsa&quot;</span>,</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>



<h3 id="3、非props的attribute"><a href="#3、非props的attribute" class="headerlink" title="3、非props的attribute"></a>3、非props的attribute</h3><p>什么是非Prop的Attribute</p>
<ul>
<li><p>当我们传递给一个组件某个属性，但是该属性并没有定义对应的 props 或者 emits 时，就称之为非Prop的Attribute</p>
</li>
<li><p>常见的包括class、style、id属性等</p>
</li>
</ul>
<p>Attribute继承</p>
<ul>
<li>当组件有单个根节点时，非Prop的Attribute将自动添加到根节点的Attribute中</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;infos sws&quot;</span> address=<span class="string">&quot;北京&quot;</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<p>禁用Attribute继承和多根节点</p>
<p>如果我们不希望组件的根元素继承attribute，可以在组件中设置 inheritAttrs: false：</p>
<ul>
<li><p>禁用attribute继承的常见情况是需要将attribute应用于根元素之外的其他元素</p>
</li>
<li><p>我们可以通过 $attrs来访问所有的非props的attribute</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">inheritAttrs</span>: <span class="literal">false</span>  <span class="comment">// 写在options api</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用子节点来接收  不禁掉inheritAttrs时根节点也同时拿到</span></span><br><span class="line">&lt;h2 :<span class="keyword">class</span>=<span class="string">&quot;$attrs.address&quot;</span>&gt;姓名： &#123;&#123;name&#125;&#125; &lt;/h2&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个根：使用另一个根节点接收非 props</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;others&quot;</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h3 id="4、子组件传递父组件"><a href="#4、子组件传递父组件" class="headerlink" title="4、子组件传递父组件"></a>4、子组件传递父组件</h3><p>子组件需要传递内容到父组件的情况</p>
<ul>
<li><p>当子组件有一些事件发生的时候，比如在组件中发生了点击，父组件需要切换内容</p>
</li>
<li><p>子组件有一些内容想要传递给父组件的时</p>
</li>
</ul>
<p>操作</p>
<ul>
<li><p>首先，我们需要在子组件中定义好在某些情况下触发的事件名称</p>
</li>
<li><p>其次，在父组件中以v-on的方式传入要监听的事件名称，并且绑定到对应的方法中</p>
</li>
<li><p>最后，在子组件中发生某个事件的时候，根据事件名称触发对应的事件；</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">父组件：</span><br><span class="line">    &lt;h2&gt;当前计数: &#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- <span class="number">1.</span>自定义 add-counter 并且监听内部的add事件 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">add-counter</span> @<span class="attr">add</span>=<span class="string">&quot;addBtnClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">add-counter</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">addBtnClick</span>(<span class="params">count</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">counter</span> += count</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件：</span><br><span class="line">    &lt;button @click=<span class="string">&quot;btnClick(1)&quot;</span>&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">btnClick</span>(<span class="params">count</span>) &#123;</span><br><span class="line">        <span class="comment">// 让子组件发出去一个自定义事件</span></span><br><span class="line">        <span class="comment">// 第一个参数，自定义事件的名称</span></span><br><span class="line">        <span class="comment">// 第二个参数是传递的参数</span></span><br><span class="line">        <span class="variable language_">this</span>.$emit(<span class="string">&quot;add&quot;</span>, count)</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>自定义事件的参数和验证</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.emits的数组写法  options api 中</span></span><br><span class="line"><span class="attr">emits</span>: [<span class="string">&quot;add&quot;</span>],</span><br><span class="line"><span class="comment">// 2.emits的对象写法  vue3 新加的对参数验证  可以写一个函数</span></span><br><span class="line"><span class="comment">// emits: &#123;</span></span><br><span class="line"><span class="comment">//   add: function(count) &#123;</span></span><br><span class="line"><span class="comment">//     if (count &lt;= 10) &#123;   // 不符合也能看到  就是报警告</span></span><br><span class="line"><span class="comment">//       return true</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     return false   </span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;,</span></span><br></pre></td></tr></table></figure>



<h3 id="5、案例练习"><a href="#5、案例练习" class="headerlink" title="5、案例练习"></a>5、案例练习</h3><p>tab-control 的案例练习</p>
<h2 id="7-组件插槽"><a href="#7-组件插槽" class="headerlink" title="7.组件插槽"></a>7.组件插槽</h2><h3 id="1、认识插槽Slot作用"><a href="#1、认识插槽Slot作用" class="headerlink" title="1、认识插槽Slot作用"></a>1、认识插槽Slot作用</h3><p>在开发中，我们会经常封装一个个可复用的组件：</p>
<ul>
<li><p>前面我们会通过props传递给组件一些数据，让组件来进行展示</p>
</li>
<li><p>但是为了让这个组件具备更强的通用性，我们不能将组件中的内容限制为固定的div、span等等这些元素</p>
</li>
<li><p>比如某种情况下我们使用组件，希望组件显示的是一个按钮，某种情况下我们使用组件希望显示的是一张图片</p>
</li>
<li><p>我们应该让使用者可以决定某一块区域到底存放什么内容和元素</p>
</li>
</ul>
<p>举个栗子：假如定制一个通用的导航组件 - NavBar</p>
<ul>
<li><p>这个组件分成三块区域：左边-中间-右边，每块区域的内容是不固定</p>
</li>
<li><p>左边区域可能显示一个菜单图标，也可能显示一个返回按钮，可能什么都不显示</p>
</li>
<li><p>中间区域可能显示一个搜索框，也可能是一个列表，也可能是一个标题，等等</p>
</li>
<li><p>右边可能是一个文字，也可能是一个图标，也可能什么都不显示</p>
</li>
</ul>
<p>这时可以来定义插槽slot</p>
<ul>
<li><p>插槽的使用过程其实是抽取共性、预留不同</p>
</li>
<li><p>我们会将共同的元素、内容依然在组件内进行封装</p>
</li>
<li><p>同时会将不同的元素使用slot作为占位，让外部决定到底显示什么样的元素</p>
</li>
</ul>
<p>如何使用 slot</p>
<ul>
<li>Vue 中将 slot 元素作为承载分发内容的出口</li>
<li>在封装组件中，使用特殊的元素就可以为封装组件开启一个插槽</li>
<li>该插槽插入什么内容取决于父组件如何使用</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413113750153.png" alt="image-20230413113750153"></p>
<h3 id="2、插槽Slot基本使用"><a href="#2、插槽Slot基本使用" class="headerlink" title="2、插槽Slot基本使用"></a>2、插槽Slot基本使用</h3><p>有时候在使用插槽时，如果没有插入对应的内容，需要显示一个默认的内容</p>
<ul>
<li>这个默认的内容只会在没有提供插入的内容时，才会显示；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">父组件：</span><br><span class="line">	&lt;show-message title=<span class="string">&quot;哈哈&quot;</span>&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>我是按钮元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    &lt;/show-message&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件：</span><br><span class="line">&lt;!-- 内容是一个按钮 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是默认内容 哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span>   // 默认内容</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h3 id="3、具名插槽Slot使用"><a href="#3、具名插槽Slot使用" class="headerlink" title="3、具名插槽Slot使用"></a>3、具名插槽Slot使用</h3><p>如果一个组件中含有多个插槽，会发现默认情况下每个插槽都会获取到我们插入的内容来显示</p>
<p>即多个元素都有在一个插槽中展示</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413114755709.png" alt="image-20230413114755709"></p>
<p>而想要达到的效果是插槽对应的显示，这个时候我们就可以使用具名插槽</p>
<ul>
<li>具名插槽顾名思义就是给插槽起一个名字， 元素有一个特殊的 attribute：name</li>
<li>一个不带 name 的slot，会带有隐含的名字 default</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">父组件：</span><br><span class="line">  &lt;nav-bar&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">left</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span>&gt;</span> &#123;&#123;leftText&#125;&#125; <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">center</span>&gt;</span>  // # 语法糖</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:right</span>&gt;</span>  // 使用template元素 并 v-slot:name</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">  &lt;/nav-bar&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件：</span><br><span class="line">  &lt;div <span class="keyword">class</span>=<span class="string">&quot;nav-bar&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">slot</span>&gt;</span>   // 取 name</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>动态插槽名：</p>
<p>目前我们使用的插槽名称都是固定的</p>
<ul>
<li>比如 v-slot:left、v-slot:center 等等</li>
<li>可以通过 v-slot:[dynamicSlotName] 方式动态绑定一个名称</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">父组件：</span><br><span class="line">  &lt;!-- nav-bar 只给一个插槽传入 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">nav-bar</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:</span>[<span class="attr">position</span>]&gt;</span>    // data 中定义默认的 position</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">nav-bar</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;position=&#x27;left&#x27;&quot;</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;position = &#x27;center&#x27;&quot;</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;position = &#x27;right&#x27;&quot;</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件：同上一个</span><br></pre></td></tr></table></figure>



<p>具名插槽使用的时候缩写</p>
<ul>
<li><p>跟 v-on 和 v-bind 一样，v-slot 也有缩写</p>
</li>
<li><p>即把参数之前的所有内容 (v-slot:) 替换为字符 #</p>
</li>
</ul>
<h3 id="4、作用域插槽Slot使用"><a href="#4、作用域插槽Slot使用" class="headerlink" title="4、作用域插槽Slot使用"></a>4、作用域插槽Slot使用</h3><p>在Vue中有渲染作用域的概念：</p>
<ul>
<li><p>父级模板里的所有内容都是在父级作用域中编译的</p>
</li>
<li><p>子模板里的所有内容都是在子作用域中编译的</p>
</li>
</ul>
<p>案例： </p>
<ul>
<li><p>案例中ChildCpn自然是可以让问自己作用域中的title内容的</p>
</li>
<li><p>但是在App中，是访问不了ChildCpn中的内容的，因为它们是跨作用域的访问</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413115537939.png" alt="image-20230413115537939"></p>
<h4 id="1-插槽作用域"><a href="#1-插槽作用域" class="headerlink" title="1.插槽作用域"></a>1.插槽作用域</h4><p>插槽可以访问到子组件中的内容是非常重要的</p>
<ul>
<li><p>当一个组件被用来渲染一个数组元素时，我们使用插槽，并且希望插槽中没有显示每项的内容</p>
</li>
<li><p>这个Vue给我们提供了作用域插槽</p>
</li>
</ul>
<p>案例：</p>
<ul>
<li><p>1.在App.vue中定义好数据</p>
</li>
<li><p>2.传递给 ShowNames 组件中</p>
</li>
<li><p>3.ShowNames 组件中遍历 names 数据</p>
</li>
<li><p>4.定义插槽的prop</p>
</li>
<li><p>5.通过 v-slot:default 的方式获取到 slot 的 props</p>
</li>
<li><p>6.使用 slotProps 中的 item 和 index</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413115833886.png" alt="image-20230413115833886"></p>
<p>简单理解：就是父组件传入数据插入到子组件，子组件对传入的数据进行遍历并插入到 slot 中，但是这时 slot 内默认的元素是写死的，我们希望这个元素可以被自定义，这时就使用作用域插槽</p>
<h4 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">父组件：</span><br><span class="line">   &lt;tab-control :titles=<span class="string">&quot;[&#x27;衣服&#x27;, &#x27;裤子&#x27;, &#x27;鞋子&#x27;]&quot;</span> @tab-item-click=<span class="string">&quot;tabItemClick&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>=<span class="string">&quot;props&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>&#123;&#123; props.item &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span>   // 使用 a 元素展示传到子组件的 item</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">   &lt;/tab-control&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件：</span><br><span class="line">	&lt;template v-<span class="keyword">for</span>=<span class="string">&quot;(item, index) in titles&quot;</span> :key=<span class="string">&quot;item&quot;</span>&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tab-control-item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;itemClick(index)&quot;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      	<span class="attr">:class</span>=<span class="string">&quot;&#123; active: index === currentIndex &#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:item</span>=<span class="string">&quot;item&quot;</span>&gt;</span>   // 定义 :item = &quot;item&quot;</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>  // 默认组件</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="1、独占默认插槽的缩写"><a href="#1、独占默认插槽的缩写" class="headerlink" title="1、独占默认插槽的缩写"></a>1、独占默认插槽的缩写</h5><ul>
<li>如果我们的插槽是默认插槽default，那么在使用的时候 v-slot:default&#x3D;”slotProps”可以简写为v-slot&#x3D;”slotProps”</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;tab-control :titles=<span class="string">&quot;[&#x27;衣服&#x27;, &#x27;裤子&#x27;, &#x27;鞋子&#x27;]&quot;</span> @tab-item-click=<span class="string">&quot;tabItemClick&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;props&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 独占默认插槽的简写 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;template v-slot=&quot;props&quot;&gt; --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>&#123;&#123; props.item &#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">tab-control</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>并且如果我们的插槽只有默认插槽时，组件的标签可以被当做插槽的模板来使用，这样可以将 v-slot 直接用在组件上</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- 如果只有一个默认插槽 那么template可以省略 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">tab-control</span> <span class="attr">:titles</span>=<span class="string">&quot;[&#x27;衣服&#x27;, &#x27;裤子&#x27;, &#x27;鞋子&#x27;]&quot;</span> @<span class="attr">tab-item-click</span>=<span class="string">&quot;tabItemClick&quot;</span> <span class="attr">v-slot</span>=<span class="string">&quot;props&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>&#123;&#123;props.item&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">tab-control</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h5 id="2、默认插槽和具名插槽混合使用"><a href="#2、默认插槽和具名插槽混合使用" class="headerlink" title="2、默认插槽和具名插槽混合使用"></a>2、默认插槽和具名插槽混合使用</h5><ul>
<li><p>如果我们有默认插槽和具名插槽，那么按照完整的template来编写</p>
</li>
<li><p>只要出现多个插槽，请始终为所有的插槽使用完整的基于 template 的语法</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413120925169.png" alt="image-20230413120925169"></p>
<h3 id="5、非父子组件的通信"><a href="#5、非父子组件的通信" class="headerlink" title="5、非父子组件的通信"></a>5、非父子组件的通信</h3><p>在开发中构建了组件树之后，除了父子组件之间的通信之外，还会有非父子组件之间的通信</p>
<p>两种方式：</p>
<ul>
<li>Provide&#x2F;Inject</li>
<li>全局事件总线</li>
</ul>
<h4 id="1-依赖注入Provide-x2F-Inject"><a href="#1-依赖注入Provide-x2F-Inject" class="headerlink" title="1.依赖注入Provide&#x2F;Inject"></a>1.依赖注入Provide&#x2F;Inject</h4><h5 id="1、作用"><a href="#1、作用" class="headerlink" title="1、作用"></a>1、作用</h5><p>Provide&#x2F;Inject用于非父子组件之间共享数据</p>
<ul>
<li><p>比如有一些深度嵌套的组件，子组件想要获取父组件的部分内 容</p>
</li>
<li><p>在这种情况下，如果我们仍然将props沿着组件链逐级传递下去，就会非常的麻烦</p>
</li>
</ul>
<p>对于这种情况可以使用 Provide 和 Inject </p>
<ul>
<li><p>无论层级结构有多深，父组件都可以作为其所有子组件的依赖提供者</p>
</li>
<li><p>父组件有一个 provide 选项来提供数据</p>
</li>
<li><p>子组件有一个 inject 选项来开始使用这些数据</p>
</li>
</ul>
<p>实际上可以将依赖注入看作是 “long range props”</p>
<ul>
<li><p>父组件不需要知道哪些子组件使用它 provide 的 property</p>
</li>
<li><p>子组件不需要知道 inject 的 property 来自哪里</p>
</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413160855262.png" alt="image-20230413160855262" style="zoom:50%;" />



<h5 id="2、基本使用"><a href="#2、基本使用" class="headerlink" title="2、基本使用"></a>2、基本使用</h5><p>所使用结构类似于：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413161943865.png" alt="image-20230413161943865"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230413162151996.png" alt="image-20230413162151996"></p>
<h5 id="3、Provide-和-Inject-函数的写法"><a href="#3、Provide-和-Inject-函数的写法" class="headerlink" title="3、Provide 和 Inject 函数的写法"></a>3、Provide 和 Inject 函数的写法</h5><ul>
<li>如果Provide中提供的一些数据是来自data，那可能会想要通过 this 获取</li>
<li>由于 this 指向的问题，对象不能形成作用域，获取不了 data 中的数据，所以使用函数写法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>.<span class="property">vue</span>:</span><br><span class="line">    <span class="comment">// provide 一般写为函数  options api</span></span><br><span class="line">    <span class="title function_">provide</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;wbh&quot;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">21</span>,</span><br><span class="line">        <span class="attr">message</span>: <span class="variable language_">this</span>.<span class="property">message</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">HomeBanner</span>:</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>homebanner: &#123;&#123;name&#125;&#125; - &#123;&#123;age&#125;&#125;-&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">inject</span>: [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;message&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="4、处理响应式数据"><a href="#4、处理响应式数据" class="headerlink" title="4、处理响应式数据"></a>4、处理响应式数据</h5><p>此时，如果我们修改了this.names的内容，那么使用 message 的子组件不是响应式的</p>
<ul>
<li>这是因为当我们修改了 message 之后，之前在 provide 中引入的 this.message 本身并不是响应式的</li>
</ul>
<p>怎么让的数据变成响应式</p>
<ul>
<li><p>可以使用响应式的一些API来完成这些功能，比如说computed函数</p>
</li>
<li><p>这个computed是vue3的新特性</p>
</li>
</ul>
<p>注意：</p>
<ul>
<li><p>在使用 message 的时候需要获取其中的 value</p>
</li>
<li><p>这是因为 computed 返回的是一个ref对象，需要取出其中的 value 来使用</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>.<span class="property">vue</span>:  </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>app: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>   <span class="comment">// 查看message的改变</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;message = &#x27;hello wodrds&#x27;&quot;</span>&gt;</span>修改message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">import</span> &#123; computed &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>  <span class="comment">// 引入 computed script中 export外</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">provide</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;wbh&quot;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">21</span>,</span><br><span class="line">        <span class="attr">message</span>: <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 拿到的是 message 的引用 返回的是一个ref对象，需要使用.value来解包才能获取其真正的值</span></span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">HomeBanner</span>.<span class="property">vue</span>:</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>homebanner: &#123;&#123;name&#125;&#125; - &#123;&#123;age&#125;&#125;-&#123;&#123;message.value&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="2-全局事件总线使用"><a href="#2-全局事件总线使用" class="headerlink" title="2.全局事件总线使用"></a>2.全局事件总线使用</h4><p>Vue3从实例中移除了 $on、$off 和 $once 方法，如果希望继续使用全局事件总线，要通过第三方的库：</p>
<ul>
<li><p>Vue3官方有推荐一些库，例如 mitt 或 tiny-emitter</p>
</li>
<li><p>主要介绍 hy-event-store 的使用</p>
</li>
</ul>
<p>前期工作</p>
<ul>
<li><p>安装：npm install hy-event-bus</p>
</li>
<li><p>封装一个工具 eventBus.js</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HYEventBus</span> &#125; <span class="keyword">from</span> <span class="string">&quot;hy-event-store&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> eventBus = <span class="keyword">new</span> <span class="title class_">HYEventBus</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> eventBus</span><br></pre></td></tr></table></figure>

<p>使用：监听，结构：App -&gt; Home -&gt; HomeBanner</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>.<span class="property">vue</span>:</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>App message: &#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">home</span>&gt;</span><span class="tag">&lt;/<span class="name">home</span>&gt;</span></span></span><br><span class="line">  <span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">&quot;./utils/event-bus&quot;</span>;  <span class="comment">// 在需要使用时间总线的地方导入</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 事件监听</span></span><br><span class="line">      eventBus.<span class="title function_">on</span>(<span class="string">&quot;whyEvent&quot;</span>, <span class="function">(<span class="params">name, age, height</span>) =&gt;</span> &#123;  <span class="comment">// 监听事件</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;whyEvent事件在app中的监听&quot;</span>, name, age, height)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">`name:<span class="subst">$&#123;name&#125;</span>, age:<span class="subst">$&#123;age&#125;</span>,height:<span class="subst">$&#123;height&#125;</span>`</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">HomeBanner</span>:</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;bannerBtnClick&quot;</span>&gt;</span>banner按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">&#x27;./utils/event-bus&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">bannerBtnClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;bannerBtnClick&quot;</span>)</span><br><span class="line">        eventBus.<span class="title function_">emit</span>(<span class="string">&quot;whyEvent&quot;</span>, <span class="string">&quot;why&quot;</span>, <span class="number">23</span>, <span class="number">1.94</span>)  <span class="comment">// 传出事件，可以加参数</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>使用：事件取消，结构：App -&gt; Category</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>:  添加了按钮移除 category 页面的展示，目的：在目录页面销毁时给其取消事件监听</span><br><span class="line">&lt;button @click=<span class="string">&quot;isShowCategory = false&quot;</span>&gt;是否显示category&lt;/button&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">category</span> <span class="attr">v-if</span>=<span class="string">&quot;isShowCategory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">category</span>&gt;</span></span>  <span class="comment">// 定义变量记录页面是否展示</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Category</span>:</span><br><span class="line">  <span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">&#x27;./utils/event-bus&#x27;</span>;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">whyEventHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;在category中监听&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,  </span><br><span class="line">    <span class="comment">// 由于这里需要使用箭头函数，便于使用 this，但是在移除监听时第二个参数需要是事件监听的函数</span></span><br><span class="line">    <span class="comment">// 为了拿到这个函数，可以将函数放在 methods 中，使用 this 指向这个函数</span></span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">      eventBus.<span class="title function_">on</span>(<span class="string">&quot;whyEvent&quot;</span>, <span class="variable language_">this</span>.<span class="property">whyEventHandler</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 移除监听</span></span><br><span class="line">    <span class="title function_">unmounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;categoty unmounted&quot;</span>)</span><br><span class="line">      eventBus.<span class="title function_">off</span>(<span class="string">&quot;whyEvent&quot;</span>, <span class="variable language_">this</span>.<span class="property">whyEventHandler</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li><p>在一般的组件通信应使用 Vue 官方推荐的方法</p>
</li>
<li><p>只有需要在很多组件中进行传递时才考虑使用事件总线</p>
</li>
</ul>
<h2 id="8-额外知识补充"><a href="#8-额外知识补充" class="headerlink" title="8.额外知识补充"></a>8.额外知识补充</h2><h3 id="1、生命周期"><a href="#1、生命周期" class="headerlink" title="1、生命周期"></a>1、生命周期</h3><p>什么是生命周期</p>
<ul>
<li><p>生物学上，生物生命周期指得是一个生物体在生命开始到结束周而复始所历经的一系列变化过程</p>
</li>
<li><p>每个组件都可能会经历从创建、挂载、更新、卸载等一系列的过程</p>
</li>
<li><p>在这个过程中的某一个阶段，我们可能会想要添加一些属于自己的代码逻辑（比如组件创建完后就请求一些服务器数据）</p>
</li>
<li><p>如何可以知道目前组件正在哪一个过程？Vue 提供了组件的生命周期函数</p>
</li>
</ul>
<p>生命周期函数</p>
<ul>
<li><p>生命周期函数是一些钩子函数（回调函数），在某个时间会被Vue源码内部进行回调</p>
</li>
<li><p>通过对生命周期函数的回调，我们可以知道目前组件正在经历什么阶段</p>
</li>
<li><p>那么我们就可以在该生命周期中编写属于自己的逻辑代码了</p>
</li>
</ul>
<h4 id="生命周期的流程"><a href="#生命周期的流程" class="headerlink" title="生命周期的流程"></a>生命周期的流程</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230415110343000.png" alt="image-20230415110343000"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">    <span class="comment">// 1.组件被创建之前</span></span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;beforeCreate&quot;</span>)</span><br><span class="line">    &#125;,  </span><br><span class="line">    <span class="comment">// 2.组件被创建完成</span></span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;组件被创建完成&quot;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1.发送网络请求，请求数据&quot;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2.监听eventBus事件&quot;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;3.监听watch数据&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 3.组件template准备被挂载</span></span><br><span class="line">    <span class="title function_">beforeMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;beforeMount&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 4.组件template被挂载：x虚拟DOM -&gt; 真实DOM</span></span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;mounted&quot;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1.获取DOM&quot;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2.使用DOM&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 5.数据发生改变</span></span><br><span class="line">    <span class="comment">// 5.1准备更新DOM</span></span><br><span class="line">    <span class="title function_">beforeUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;beforeUpdate&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 5.2 更新DOM</span></span><br><span class="line">    <span class="title function_">updated</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;updated&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 6准备卸载VNode -&gt; DOM元素  </span></span><br><span class="line">    <span class="comment">// 6.1卸载之前</span></span><br><span class="line">    <span class="title function_">beforeUnmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;beforeUnmoute&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 6.2 DOM元素被卸载完成</span></span><br><span class="line">    <span class="title function_">unmounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;unmounted&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">在 <span class="title class_">App</span>.<span class="property">vue</span>中查看不到卸载效果，在子组件中可以使用v-<span class="keyword">if</span>查看</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230415110746460.png" alt="image-20230415110746460"></p>
<h3 id="2、ref-获取元素组件"><a href="#2、ref-获取元素组件" class="headerlink" title="2、ref 获取元素组件"></a>2、ref 获取元素组件</h3><p>某些情况下，我们在组件中想要直接获取到元素对象或者子组件实例</p>
<ul>
<li><p>在Vue开发中我们是不推荐进行DOM操作的</p>
</li>
<li><p>可以给元素或者组件绑定一个ref的attribute属性</p>
</li>
</ul>
<p>组件实例有一个$refs属性：</p>
<ul>
<li>它一个对象Object，持有注册过 ref attribute 的所有 DOM 元素和组件实例</li>
</ul>
<p>$parent和$root：可以通过$parent来访问父元素</p>
<ul>
<li>HelloWorld.vue的实现：<ul>
<li>这里我们也可以通过$root来实现，因为App是我们的根组件</li>
</ul>
</li>
</ul>
<p>注意：在Vue3中已经移除了$children的属性，所以不可以使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;h2 ref=<span class="string">&quot;title&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;title&quot;</span> :style=<span class="string">&quot;&#123; color: titleColor &#125;&quot;</span>&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ref</span>=<span class="string">&quot;btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeTitle&quot;</span>&gt;</span>修改title<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>    </span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">     <span class="title function_">changeTitle</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="comment">// 1.不要主动的去获取DOM 并且修改DOM内容</span></span><br><span class="line">       <span class="comment">// this.message = &quot;你好啊，李银河!&quot;,</span></span><br><span class="line">       <span class="comment">// this.titleColor = &quot;blue&quot;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">// 2.获取h2/button元素</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">title</span>)</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">btn</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 3.获取 banner 子组件:组件实例</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">banner</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 3.1 在父组件中可以主动调用子组件的对象方法</span></span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">banner</span>.<span class="title function_">bannerClick</span>()</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 3.2 获取banner组件实例，获取banner组件中的元素</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">banner</span>.<span class="property">$el</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 3.3 如果banner template是多个根 那么会拿到第一个node节点</span></span><br><span class="line">       <span class="comment">// 注意：在开发中不推荐一个组件的template中有多个根元素</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">banner</span>.<span class="property">$el</span>.<span class="property">nextSibling</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 4.组件实例还有两个实例</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$parent</span>)  <span class="comment">// 获取父组件</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$root</span>)  <span class="comment">// 获取根组件</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="3、动态切换组件"><a href="#3、动态切换组件" class="headerlink" title="3、动态切换组件"></a>3、动态切换组件</h3><p>比如在想要实现了一个功能：点击一个tab-bar，切换不同的组件显示</p>
<p>可以通过两种不同的实现思路来实现：</p>
<ul>
<li>方式一：通过v-if来判断，显示不同的组件</li>
<li>方式二：动态组件的方式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span>第一种做法：v-<span class="keyword">if</span>判断逻辑，以显示不同的组件 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;currentIndex === 0&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">home</span>&gt;</span><span class="tag">&lt;/<span class="name">home</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else-if</span>=<span class="string">&quot;currentIndex === 1&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">About</span>&gt;</span><span class="tag">&lt;/<span class="name">About</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else-if</span>=<span class="string">&quot;currentIndex === 2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Category</span>&gt;</span><span class="tag">&lt;/<span class="name">Category</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">2.</span>第二种做法：动态组件component --&gt;</span><br><span class="line">&lt;!-- is中的组件需要来自两个地方：全局注册的组件/局部注册的组件 --&gt;</span><br><span class="line"><span class="comment">//	tabs </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;tabs[currentIndex]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<h4 id="其它操作"><a href="#其它操作" class="headerlink" title="其它操作"></a>其它操作</h4><p>父组件传数据到子组件进行接收</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;component name=<span class="string">&quot;wbh&quot;</span> :age=<span class="string">&quot;age&quot;</span> :is=<span class="string">&quot;currentTab&quot;</span>&gt;&lt;/component&gt;</span><br></pre></td></tr></table></figure>

<p>在子组件使用 props 接收</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2&gt;<span class="title class_">Home</span>组件: &#123;&#123;name&#125;&#125;-&#123;&#123;age&#125;&#125;&lt;/h2&gt;    </span><br><span class="line"></span><br><span class="line">   <span class="attr">props</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">        <span class="attr">default</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">age</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">        <span class="attr">default</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<p>子组件传数据（事件）到父组件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">子组件定义事件并传出：</span><br><span class="line">&lt;button @click=<span class="string">&quot;homeClick&quot;</span>&gt;homeBtn&lt;/button&gt;</span><br><span class="line"><span class="attr">$emits</span>: [<span class="string">&quot;homeClick&quot;</span>],</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">homeClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.$emit(<span class="string">&quot;homeClick&quot;</span>, <span class="string">&quot;home&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">父组件接收并使用参数：</span><br><span class="line">&lt;component @homeClick=<span class="string">&quot;homeClick&quot;</span> :is=<span class="string">&quot;currentTab&quot;</span>&gt;&lt;/component&gt;</span><br><span class="line"></span><br><span class="line"><span class="title function_">homeClick</span>(<span class="params">arg</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;HomeClick:&quot;</span>, arg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4、Keep-Alive-的使用"><a href="#4、Keep-Alive-的使用" class="headerlink" title="4、Keep-Alive 的使用"></a>4、Keep-Alive 的使用</h3><p>先对之前的案例中About组件进行改造：</p>
<ul>
<li>在其中增加了一个按钮，点击可以递增的功能</li>
</ul>
<p>比如将counter点到10，那么在切换到home再切换回来about时，状态是否可以保持？</p>
<ul>
<li><p>答案是否定的</p>
</li>
<li><p>因为默认情况下，在切换组件后，about组件会被销毁掉，再次回来时会重新创建组件</p>
</li>
</ul>
<p>但是，在开发中某些情况我们希望继续保持组件的状态，而不是销毁掉，这个时候我们就可以使用一个内置组件：keep-alive</p>
<p>keep-alive 的属性</p>
<ul>
<li>include - string | RegExp | Array。只有名称匹配的组件会被缓存</li>
<li>exclude - string | RegExp | Array。任何名称匹配的组件都不会被缓存</li>
<li>max - number | string。最多可以缓存多少组件实例，一旦达到这个数字，那么缓存组件中最近没有被访问的实例会被销毁</li>
</ul>
<p>include 和 exclude prop 允许组件有条件地缓存：</p>
<ul>
<li><p>二者都可以用逗号分隔字符串、正则表达式或一个数组来表示</p>
</li>
<li><p>匹配首先检查组件自身的 name 选项</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span><br><span class="line">    &lt;!-- <span class="attr">include</span>:以逗号隔开且不能添加空格 --&gt;</span><br><span class="line">    &lt;!-- <span class="attr">include</span>:名称来自于组件定义时name选项 --&gt;</span><br><span class="line">    <span class="comment">// 对于需要保持活性的组件，需要在其根组件定义 name 属性，使用的便是此name名称</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;home,about&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;currentTab&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<h4 id="缓存组件的生命周期"><a href="#缓存组件的生命周期" class="headerlink" title="缓存组件的生命周期"></a>缓存组件的生命周期</h4><p>对于缓存的组件来说，再次进入时，我们是不会执行created或者mounted等生命周期函数的：</p>
<ul>
<li><p>但是有时候我们确实希望监听到何时重新进入到了组件，何时离开了组件</p>
</li>
<li><p>这个时候我们可以使用activated 和 deactivated 这两个生命周期钩子函数来监听</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 对于保持keep-alive组件，监听有没有获取</span></span><br><span class="line"><span class="comment">// keep-alive组件进入活跃状态</span></span><br><span class="line"><span class="title function_">activated</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;home activated&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="title function_">deactivated</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;home deactivated&quot;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="5、异步组件的使用"><a href="#5、异步组件的使用" class="headerlink" title="5、异步组件的使用"></a>5、异步组件的使用</h3><p>在此之前，我们需要对项目通过 webpack 的打包进行了解</p>
<ul>
<li>一般在项目完成后，打包后 js 文件夹中有四个文件</li>
<li>app 中默认存放的是全部的逻辑代码</li>
<li>chunk-vendors 存放的是相关的第三方引入的库的版本</li>
</ul>
<h4 id="1-所以默认的打包过程"><a href="#1-所以默认的打包过程" class="headerlink" title="1.所以默认的打包过程"></a>1.所以默认的打包过程</h4><ul>
<li><p>默认情况下，在构建整个组件树的过程中，因为组件和组件之间是通过模块化直接依赖的，那么webpack在打包时就会将组 件模块打包到一起（比如一个app.js文件中）</p>
</li>
<li><p>这个时候随着项目的不断庞大，app.js文件的内容过大，会造成首屏的渲染速度变慢</p>
</li>
</ul>
<p>打包时，代码的分包：</p>
<ul>
<li>所以，对于一些不需要立即使用的组件，我们可以单独对它们进行拆分，拆分成一些小的代码块chunk.js</li>
<li>这些chunk.js会在需要时从服务器加载下来，并且运行代码，显示对应的内容</li>
</ul>
<h4 id="2-文件的分包"><a href="#2-文件的分包" class="headerlink" title="2.文件的分包"></a>2.文件的分包</h4><p>对于 utils 之类的 js 文件，想对其进行分包</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// import &#123; sum &#125; from &#x27;./utils/math.js&#x27;  </span></span><br><span class="line"><span class="comment">// sum(10, 20) // 默认在main.js中的引入与使用是不能对其进行分包</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// js 文件的分包</span></span><br><span class="line"><span class="comment">// import(&quot;./utils/math&quot;).then(res =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   res.sum(10, 20)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br></pre></td></tr></table></figure>



<h4 id="3-实现异步组件"><a href="#3-实现异步组件" class="headerlink" title="3.实现异步组件"></a>3.实现异步组件</h4><p>Vue中实现异步组件：对于想要单独分包的组件</p>
<ul>
<li>如果我们的项目过大了，对于某些组件我们希望通过异步的方式来进行加载（目的是可以对其进行分包处理），那么Vue中给我们提供了一个函数：defineAsyncComponent</li>
</ul>
<p>defineAsyncComponent接受两种类型的参数</p>
<ul>
<li><p>类型一：工厂函数，该工厂函数需要返回一个Promise对象</p>
</li>
<li><p>类型二：接受一个对象类型，对异步函数进行配置</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineAsyncComponent &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>  <span class="comment">// 先导入对应的方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">AsyncCategory</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;./views/Category.vue&quot;</span>))  <span class="comment">// 导入方式</span></span><br><span class="line">  </span><br><span class="line">	<span class="title class_">Category</span>: <span class="title class_">AsyncCategory</span>  <span class="comment">// 注册方式</span></span><br></pre></td></tr></table></figure>

<p>类型二的写法：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wbhnote.oss-cn-hangzhou.aliyuncs.com/img/image-20230415171317358.png" alt="image-20230415171317358"></p>
<h3 id="6、组件的-v-model"><a href="#6、组件的-v-model" class="headerlink" title="6、组件的 v-model"></a>6、组件的 v-model</h3><h4 id="1-基本使用-1"><a href="#1-基本使用-1" class="headerlink" title="1.基本使用"></a>1.基本使用</h4><p>在input中可以使用v-model来完成双向绑定：</p>
<ul>
<li><p>这个时候往往会非常方便，因为v-model默认帮助我们完成了两件事</p>
</li>
<li><p>v-bind:value 的数据绑定和 @input 的事件监听</p>
</li>
</ul>
<p>如果现在封装了一个组件，其他地方在使用这个组件时，是否也可以使用 v-model 来同时完成这两个功能？</p>
<ul>
<li>也是可以的，vue也支持在组件上使用v-model</li>
</ul>
<p>当我们在组件上使用的时候，等价于如下的操作：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">2.</span>组件v-<span class="attr">model</span>:默认的 modelValue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">counter</span> <span class="attr">v-model</span>=<span class="string">&quot;appCounter&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 两行代码等价  默认固定写为 modelValue</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">counter</span> <span class="attr">:modelValue</span>=<span class="string">&quot;appCounter&quot;</span> @<span class="attr">update:modelValue</span>=<span class="string">&quot;appCounter = $event&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">在子组件中：</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Counter: &#123;&#123;modelValue&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeCounter&quot;</span>&gt;</span>修改counter<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"><span class="comment">// 接受传过来的 modelValue</span></span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">      <span class="attr">modelValue</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">        <span class="attr">default</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">// 修改modelValue：固定写法</span></span><br><span class="line">    <span class="attr">emits</span>: [<span class="string">&quot;update:modelValue&quot;</span>],</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">changeCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="comment">// 999 是改变 App 中绑定的 appCounter 的值</span></span><br><span class="line">        <span class="variable language_">this</span>.$emit(<span class="string">&quot;update:modelValue&quot;</span>, <span class="number">999</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>和input元素不同的只是属性的名称和事件触发的名称而已；</p>
<h4 id="2-绑定多个属性"><a href="#2-绑定多个属性" class="headerlink" title="2.绑定多个属性"></a>2.绑定多个属性</h4><p>通过v-model是直接绑定了一个属性，如果想要绑定多个属性呢？也就是在一个组件上使用多个v-model是否可以实现呢？</p>
<ul>
<li><p>默认情况下的v-model其实是绑定了 modelValue 属性和 @update:modelValue的事件</p>
</li>
<li><p>如果希望绑定更多，可以给 v-model 传入一个参数，那么这个参数的名称就是我们绑定属性的名称</p>
</li>
</ul>
<p>v-model:why 相当于做了两件事：</p>
<ul>
<li><p>绑定了message 属性</p>
</li>
<li><p>监听了 @update:message 的事件</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="number">3.</span>组件的v-model：自定义名称counter --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">counter2</span> <span class="attr">v-model:counter</span>=<span class="string">&quot;appCounter&quot;</span> <span class="attr">v-model:why</span>=<span class="string">&quot;appWhy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">counter2</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">  <span class="attr">why</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">    <span class="attr">default</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">emits</span>: [<span class="string">&quot;update:counter&quot;</span>, <span class="string">&quot;update:why&quot;</span>],</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">changeCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$emit(<span class="string">&quot;update:counter&quot;</span>, <span class="number">999</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">changeWhy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$emit(<span class="string">&quot;update:why&quot;</span>, <span class="string">&quot;kobe&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="7、组件的混入"><a href="#7、组件的混入" class="headerlink" title="7、组件的混入"></a>7、组件的混入</h3><h4 id="1-认识-Mixin"><a href="#1-认识-Mixin" class="headerlink" title="1.认识 Mixin"></a>1.认识 Mixin</h4><p>目前我们是使用组件化的方式在开发整个Vue的应用程序，但是组件和组件之间有时候会存在相同的代码逻辑，我们希望对相同的代码逻辑进行抽取</p>
<p>在 Vue2 和 Vue3 中都支持的一种方式就是使用Mixin来完成：</p>
<ul>
<li><p>Mixin提供了一种非常灵活的方式，来分发Vue组件中的可复用功能</p>
</li>
<li><p>一个Mixin对象可以包含任何组件选项</p>
</li>
<li><p>当组件使用 Mixin 对象时，所有 Mixin 对象的选项将被混合进入该组件本身的选项中</p>
</li>
</ul>
<h4 id="2-基本使用"><a href="#2-基本使用" class="headerlink" title="2.基本使用"></a>2.基本使用</h4><p>将重复的对象抽入一个 js 文件中：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&quot;hello world&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;message&quot;</span>, <span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在需要使用的地方引入</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> messageMixin <span class="keyword">from</span> <span class="string">&#x27;../mixins/message-mixin.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">mixins</span>: [messageMixin]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-合并规则"><a href="#3-合并规则" class="headerlink" title="3.合并规则"></a>3.合并规则</h4><p>如果Mixin对象中的选项和组件对象中的选项发生了冲突，那么Vue会如何操作呢？</p>
<p>这里分成不同的情况来进行处理</p>
<p>情况一：如果是data函数的返回值对象</p>
<ul>
<li><p>返回值对象默认情况下会进行合并</p>
</li>
<li><p>如果data返回值对象的属性发生了冲突，那么会保留组件自身的数据</p>
</li>
</ul>
<p>情况二：如何生命周期钩子函数</p>
<ul>
<li>生命周期的钩子函数会被合并到数组中，都会被调用</li>
</ul>
<p>情况三：值为对象的选项，例如 methods、components 和 directives，将被合并为同一个对象</p>
<ul>
<li><p>比如都有methods选项，并且都定义了方法，那么它们都会生效</p>
</li>
<li><p>但是如果对象的key相同，那么会取组件对象的键值对；</p>
</li>
</ul>
<h4 id="4-全局混入-Mixin"><a href="#4-全局混入-Mixin" class="headerlink" title="4.全局混入 Mixin"></a>4.全局混入 Mixin</h4><p>如果组件中的某些选项，是所有的组件都需要拥有的，那这时可以使用全局的mixin</p>
<ul>
<li><p>全局的Mixin可以使用 应用app的方法 mixin 来完成注册</p>
</li>
<li><p>一旦注册，那么全局混入的选项将会影响每一个组件</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;mixin created&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="9-Composition-API"><a href="#9-Composition-API" class="headerlink" title="9.Composition API"></a>9.Composition API</h2><h3 id="1、认识-CompositionAPI"><a href="#1、认识-CompositionAPI" class="headerlink" title="1、认识 CompositionAPI"></a>1、认识 CompositionAPI</h3><h4 id="1-Options-API的弊端"><a href="#1-Options-API的弊端" class="headerlink" title="1.Options API的弊端"></a>1.Options API的弊端</h4><ul>
<li><p>Options API的一大特点就是在对应的属性中编写对应的功能模块</p>
</li>
<li><p>比如data定义数据、methods中定义方法、computed中定义计算属性、watch中监听属性改变，也包括生命周期钩子</p>
</li>
</ul>
<p>但是这种代码有一个很大的弊端：</p>
<ul>
<li><p>当我们实现某一个功能时，这个功能对应的代码逻辑会被拆分到各个属性中</p>
</li>
<li><p>当我们组件变得更大、更复杂时，逻辑关注点的列表就会增长，那么同一个功能的逻辑就会被拆分的很分散</p>
</li>
<li><p>尤其对于那些一开始没有编写这些组件的人来说，这个组件的代码是难以阅读和理解的（阅读组件的其他人）</p>
</li>
</ul>
<p>对于非常大的组件</p>
<ul>
<li>这种碎片化的代码使用理解和维护这个复杂的组件变得异常困难，并且隐藏了潜在的逻辑问题</li>
<li>并且当我们处理单个逻辑关注点时，需要不断的跳到相应的代码块中；</li>
</ul>
<p>如果我们能将同一个逻辑关注点相关的代码收集在一起会更好</p>
<p>这就是Composition API想要做的事情，以及可以帮助我们完成的事情</p>
<p>也有人把Vue Composition API简称为VCA</p>
<h4 id="2-认识-Composition-API"><a href="#2-认识-Composition-API" class="headerlink" title="2.认识 Composition API"></a>2.认识 Composition API</h4><p>编写位置：在Vue组件中，这个位置是 setup 函数</p>
<p>setup其实就是组件的另外一个选项：</p>
<ul>
<li><p>只不过这个选项强大到我们可以用它来替代之前所编写的大部分其他选项</p>
</li>
<li><p>比如methods、computed、watch、data、生命周期等等</p>
</li>
</ul>
<h4 id="3-setup-函数的使用"><a href="#3-setup-函数的使用" class="headerlink" title="3.setup 函数的使用"></a>3.setup 函数的使用</h4><h5 id="1、setup-函数的参数"><a href="#1、setup-函数的参数" class="headerlink" title="1、setup 函数的参数"></a>1、setup 函数的参数</h5><p>它主要有两个参数：第一个参数：props；第二个参数：context</p>
<p>props 就是父组件传递过来的属性会被放到 props 对象中，我们在setup中如果需要使用，那么就可以直接通过props参数获取：</p>
<ul>
<li><p>对于定义props的类型，我们还是和之前的规则是一样的，在props选项中定义</p>
</li>
<li><p>并且在template中依然是可以正常去使用props中的属性，比如message</p>
</li>
<li><p>如果我们在setup函数中想要使用props，那么不可以通过 this 去获取</p>
</li>
<li><p>因为props有直接作为参数传递到setup函数中，所以可以直接通过参数来使用即可</p>
</li>
</ul>
<p>另一个参数：context，我们也称之为是一个SetupContext</p>
<p>它里面包含三个属性：</p>
<ul>
<li><p>attrs：所有的非prop的attribute</p>
</li>
<li><p>slots：父组件传递过来的插槽（这个在以渲染函数返回时会有作用）</p>
</li>
<li><p>emit：当我们组件内部需要发出事件时会用到emit（因为我们不能访问this，所以不可以通过 this.$emit发出事件）</p>
</li>
</ul>
<h5 id="2、setup-函数的返回值"><a href="#2、setup-函数的返回值" class="headerlink" title="2、setup 函数的返回值"></a>2、setup 函数的返回值</h5><p>setup既然是一个函数，那么它也可以有返回值</p>
<ul>
<li><p>setup的返回值可以在模板template中被使用</p>
</li>
<li><p>也就是说我们可以通过setup的返回值来替代data选项</p>
</li>
</ul>
<p>甚至是我们可以返回一个执行函数来代替在methods中定义的方法：</p>
<p>如果将 counter 在 increment 或者 decrement进行操作时，是否可以实现界面的响应式呢？</p>
<ul>
<li><p>答案是不可以</p>
</li>
<li><p>这是因为对于一个定义的变量来说，默认情况下，Vue并不会跟踪它的变化，来引起界面的响应式操作</p>
</li>
</ul>
<p>初体验：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  &lt;div <span class="keyword">class</span>=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;!-- 对于 template 中的 ref 对象会自动解包 不需要 .<span class="property">value</span>获取值 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数: &#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>  <span class="comment">// 数据只有在ref包裹来实现响应式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 1.定义counter的内容</span></span><br><span class="line">    <span class="comment">// 默认定义的数据都不是响应式数据</span></span><br><span class="line">    <span class="keyword">let</span> counter = <span class="title function_">ref</span>(<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      counter.<span class="property">value</span>++</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(counter.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">decrement</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      counter.<span class="property">value</span>--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      counter, increment, decrement</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>抽取函数：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">抽取到 js 文件中：</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;</span><br><span class="line"></span><br><span class="line">export default function useCounter() &#123;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>.<span class="property">vue</span>:</span><br><span class="line"><span class="keyword">import</span> useCounter <span class="keyword">from</span> <span class="string">&#x27;./hooks/useCounter.js&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> &#123; counter, increment, decrement &#125; = <span class="title function_">useCounter</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ...<span class="title function_">useCounter</span>()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="2、Setup-函数的基本使用"><a href="#2、Setup-函数的基本使用" class="headerlink" title="2、Setup 函数的基本使用"></a>2、Setup 函数的基本使用</h3><h3 id="3、Setup-中数据的响应式"><a href="#3、Setup-中数据的响应式" class="headerlink" title="3、Setup 中数据的响应式"></a>3、Setup 中数据的响应式</h3><h3 id="4、Reactive-知识点补充"><a href="#4、Reactive-知识点补充" class="headerlink" title="4、Reactive 知识点补充"></a>4、Reactive 知识点补充</h3><h3 id="5、Ref-知识点补充"><a href="#5、Ref-知识点补充" class="headerlink" title="5、Ref 知识点补充"></a>5、Ref 知识点补充</h3><h3 id="6、setup-中禁用-this"><a href="#6、setup-中禁用-this" class="headerlink" title="6、setup 中禁用 this"></a>6、setup 中禁用 this</h3></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://awzz-coder.github.io">awzz-coder</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://awzz-coder.github.io/archives/f8e09374.html">https://awzz-coder.github.io/archives/f8e09374.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://awzz-coder.github.io" target="_blank">awzz博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/IT%E5%89%8D%E7%AB%AF/">IT前端</a><a class="post-meta__tags" href="/tags/Vue/">Vue</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/">前端框架</a></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat-pay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat-pay.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/ali-pay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/ali-pay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/archives/0.html" title="数据结构与算法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据结构与算法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/archives/0.html" title="数据结构与算法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-10</div><div class="title">数据结构与算法</div></div></a></div><div><a href="/archives/f99e1de4.html" title="HTML&#x2F;CSS 知识体系（部分）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-12</div><div class="title">HTML&#x2F;CSS 知识体系（部分）</div></div></a></div><div><a href="/archives/4b0178e0.html" title="JavaScript基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-23</div><div class="title">JavaScript基础</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81ODI5MC8zNDc1Mw=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">awzz-coder</div><div class="author-info__description">我的博客笔记-前端分享</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" href="https://awzz-coder.github.io"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/awzz-coder" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.baidu.com" rel="external nofollow noreferrer" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a><a class="social-icon" href="https://space.bilibili.com/476760963?spm_id_from=333.1007.0.0" rel="external nofollow noreferrer" target="_blank" title="B站"><i class="fas fa-b"></i></a><a class="social-icon" href="/546836216@qq.com" target="_blank" title="QQ邮箱"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到awzz的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue"><span class="toc-text">Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%82%82%E9%80%85Vue"><span class="toc-text">1.邂逅Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Vue%E5%9C%A8%E5%89%8D%E7%AB%AF%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7"><span class="toc-text">1、Vue在前端的重要性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Vue2%E8%BF%98%E6%98%AFVue3"><span class="toc-text">2、Vue2还是Vue3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Vue-%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-text">3、Vue 初体验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%91%BD%E4%BB%A4%E5%BC%8F%E4%B8%8E%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">4、命令式与声明式编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81MVC%E5%92%8CMVVM%E7%9A%84%E6%A8%A1%E5%9E%8B%E5%8C%BA%E5%88%AB"><span class="toc-text">5、MVC和MVVM的模型区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%B8%B8%E7%94%A8-options-api"><span class="toc-text">6、常用 options api</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-data"><span class="toc-text">1.data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-methods"><span class="toc-text">2.methods</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81vscode-%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5"><span class="toc-text">7、vscode 代码片段</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-text">2.模板语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Mustache-%E8%AF%AD%E6%B3%95"><span class="toc-text">1、Mustache 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%B8%B8%E8%A7%81%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4"><span class="toc-text">2、常见基本指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-v-once"><span class="toc-text">1.v-once</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-v-text"><span class="toc-text">2.v-text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-v-html"><span class="toc-text">3.v-html</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-v-pre"><span class="toc-text">4.v-pre</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-v-cloak"><span class="toc-text">5.v-cloak</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-v-memo"><span class="toc-text">6.v-memo</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81v-bind-%E7%BB%91%E5%AE%9A%E5%B1%9E%E6%80%A7"><span class="toc-text">3、v-bind 绑定属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BB%91%E5%AE%9A%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-text">1.绑定基本属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%91%E5%AE%9Aclass"><span class="toc-text">2.绑定class</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%BB%91%E5%AE%9Astyle"><span class="toc-text">3.绑定style</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%E5%B1%9E%E6%80%A7"><span class="toc-text">4.动态绑定属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%BB%91%E5%AE%9A%E5%AF%B9%E8%B1%A1"><span class="toc-text">5.绑定对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E3%80%81Vue-%E7%9A%84%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="toc-text">4 、Vue 的事件绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81Vue-%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-text">5、Vue 的条件渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-v-if%E7%9A%84%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-text">1.v-if的渲染原理：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-template-%E5%85%83%E7%B4%A0"><span class="toc-text">2.template 元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-v-show%E5%92%8Cv-if%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">3.v-show和v-if的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81Vue-%E7%9A%84%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-text">6、Vue 的列表渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B8%B2%E6%9F%93%EF%BC%88%E9%81%8D%E5%8E%86%EF%BC%89%E6%96%B9%E5%BC%8F"><span class="toc-text">1.渲染（遍历）方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-template%E5%85%83%E7%B4%A0"><span class="toc-text">2.template元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B"><span class="toc-text">3.数组更新检测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-v-for%E4%B8%AD%E7%9A%84key"><span class="toc-text">4.v-for中的key</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%BA%86%E8%A7%A3key%E5%B1%9E%E6%80%A7"><span class="toc-text">1、了解key属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E8%99%9A%E6%8B%9FDOM"><span class="toc-text">2、虚拟DOM</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81key%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">3、key的作用</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Options-API"><span class="toc-text">3.Options API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7computed"><span class="toc-text">1、计算属性computed</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">1.基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%AF%B9%E6%AF%94%E5%AE%9E%E7%8E%B0"><span class="toc-text">案例对比实现</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-text">1.模板语法：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-methods-%E5%AE%9E%E7%8E%B0"><span class="toc-text">2.methods 实现</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-computed-%E5%AE%9E%E7%8E%B0"><span class="toc-text">3.computed 实现</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-computed-%E5%92%8C-methods-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">2.computed 和 methods 的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-computed-%E7%9A%84-setter-%E5%92%8C-getter"><span class="toc-text">3.computed 的 setter 和 getter</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E4%BE%A6%E5%90%AC%E5%99%A8watch"><span class="toc-text">2、侦听器watch</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-text">1.什么是侦听器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BE%A6%E5%90%AC"><span class="toc-text">2.基本侦听</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BE%A6%E5%90%AC%E9%80%89%E9%A1%B9"><span class="toc-text">3.侦听选项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%85%B6%E4%BB%96%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-text">4.其他的写法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E9%98%B6%E6%AE%B5%E7%BB%83%E4%B9%A0"><span class="toc-text">3、阶段练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Vue-%E7%9A%84%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A"><span class="toc-text">4. Vue 的双向绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">1、基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81v-model-%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">2、v-model 的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E7%BB%91%E5%AE%9A%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B"><span class="toc-text">3、绑定其他类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-v-model-%E7%BB%91%E5%AE%9A-textarea"><span class="toc-text">1.v-model 绑定 textarea</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-v-model-%E7%BB%91%E5%AE%9A-checkbox"><span class="toc-text">2.v-model 绑定 checkbox</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E9%80%89%E6%A1%86"><span class="toc-text">单选框</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E9%80%89%E6%A1%86"><span class="toc-text">多选框</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-v-model-%E7%BB%91%E5%AE%9A-radio"><span class="toc-text">3.v-model 绑定 radio</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-v-model-%E7%BB%91%E5%AE%9A-select"><span class="toc-text">4.v-model 绑定 select</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-v-model-%E7%9A%84%E5%80%BC%E7%BB%91%E5%AE%9A"><span class="toc-text">5.v-model 的值绑定</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-v-model-%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">4.v-model 修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81lazy"><span class="toc-text">1、lazy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81number"><span class="toc-text">2、number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81trim"><span class="toc-text">3、trim</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%A4%9A%E4%B8%AA%E4%BF%AE%E9%A5%B0%E7%AC%A6%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8"><span class="toc-text">4、多个修饰符一起使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-text">5.组件化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AE%A4%E8%AF%86%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-text">1、认识组件化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%BC%80%E5%8F%91%E6%80%9D%E6%83%B3"><span class="toc-text">1.开发思想</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Vue-%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96"><span class="toc-text">2.Vue 的组件化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6"><span class="toc-text">2、注册组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6"><span class="toc-text">1.注册全局组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%84%E4%BB%B6%E7%9A%84%E5%90%8D%E7%A7%B0"><span class="toc-text">2.组件的名称</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B1%80%E9%83%A8%E7%BB%84%E4%BB%B6"><span class="toc-text">3.局部组件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Vue-%E7%9A%84%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="toc-text">3、Vue 的开发模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81Vue-CLI-%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-text">4、Vue CLI 脚手架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-text">1.什么是脚手架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Vue-CLI-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-text">2.Vue CLI 安装和使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E5%A4%B9%E8%AF%B4%E6%98%8E"><span class="toc-text">3.项目文件夹说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Vue-CLI-%E7%9A%84%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-text">4.Vue CLI 的运行原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%A1%A5%E5%85%85"><span class="toc-text">5.补充</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81jsconfig-json"><span class="toc-text">1、jsconfig.json</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%BC%95%E5%85%A5Vue%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-text">2、引入Vue的版本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81style-%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">3、style 的作用域</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81vite-%E5%88%9B%E5%BB%BA-vue-%E9%A1%B9%E7%9B%AE"><span class="toc-text">4、vite 创建 vue 项目</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%BB%84%E4%BB%B6%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-text">6.组件间的通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E5%B5%8C%E5%A5%97%E5%85%B3%E7%B3%BB"><span class="toc-text">1、组件的嵌套关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E6%8B%86%E5%88%86"><span class="toc-text">组件的拆分</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="toc-text">2、父组件传递子组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E9%80%9A%E4%BF%A1%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-text">1.父子组件之间通信的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%88%B6%E4%BC%A0%E5%AD%90%E6%96%B9%E6%B3%95"><span class="toc-text">2.父传子方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Props-%E7%9A%84%E6%95%B0%E7%BB%84%E7%94%A8%E6%B3%95"><span class="toc-text">1、Props 的数组用法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Props-%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%94%A8%E6%B3%95"><span class="toc-text">2、Props 的对象用法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81type-%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">3、type 的类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81Props%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-text">4、Props的大小写</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E9%9D%9Eprops%E7%9A%84attribute"><span class="toc-text">3、非props的attribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E7%88%B6%E7%BB%84%E4%BB%B6"><span class="toc-text">4、子组件传递父组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%A1%88%E4%BE%8B%E7%BB%83%E4%B9%A0"><span class="toc-text">5、案例练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E7%BB%84%E4%BB%B6%E6%8F%92%E6%A7%BD"><span class="toc-text">7.组件插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AE%A4%E8%AF%86%E6%8F%92%E6%A7%BDSlot%E4%BD%9C%E7%94%A8"><span class="toc-text">1、认识插槽Slot作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%8F%92%E6%A7%BDSlot%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2、插槽Slot基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BDSlot%E4%BD%BF%E7%94%A8"><span class="toc-text">3、具名插槽Slot使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BDSlot%E4%BD%BF%E7%94%A8"><span class="toc-text">4、作用域插槽Slot使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%8F%92%E6%A7%BD%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">1.插槽作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8"><span class="toc-text">2.使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E7%8B%AC%E5%8D%A0%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E7%9A%84%E7%BC%A9%E5%86%99"><span class="toc-text">1、独占默认插槽的缩写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E5%92%8C%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD%E6%B7%B7%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-text">2、默认插槽和具名插槽混合使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E9%9D%9E%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-text">5、非父子组件的通信</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5Provide-x2F-Inject"><span class="toc-text">1.依赖注入Provide&#x2F;Inject</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E4%BD%9C%E7%94%A8"><span class="toc-text">1、作用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2、基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81Provide-%E5%92%8C-Inject-%E5%87%BD%E6%95%B0%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-text">3、Provide 和 Inject 函数的写法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%A4%84%E7%90%86%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE"><span class="toc-text">4、处理响应式数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%E4%BD%BF%E7%94%A8"><span class="toc-text">2.全局事件总线使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E9%A2%9D%E5%A4%96%E7%9F%A5%E8%AF%86%E8%A1%A5%E5%85%85"><span class="toc-text">8.额外知识补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">1、生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-text">生命周期的流程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81ref-%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%BB%84%E4%BB%B6"><span class="toc-text">2、ref 获取元素组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E7%BB%84%E4%BB%B6"><span class="toc-text">3、动态切换组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E6%93%8D%E4%BD%9C"><span class="toc-text">其它操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81Keep-Alive-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">4、Keep-Alive 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">缓存组件的生命周期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">5、异步组件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%89%80%E4%BB%A5%E9%BB%98%E8%AE%A4%E7%9A%84%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B"><span class="toc-text">1.所以默认的打包过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%86%E5%8C%85"><span class="toc-text">2.文件的分包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6"><span class="toc-text">3.实现异步组件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84-v-model"><span class="toc-text">6、组件的 v-model</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-text">1.基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BB%91%E5%AE%9A%E5%A4%9A%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">2.绑定多个属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B7%B7%E5%85%A5"><span class="toc-text">7、组件的混入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%AE%A4%E8%AF%86-Mixin"><span class="toc-text">1.认识 Mixin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2.基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%90%88%E5%B9%B6%E8%A7%84%E5%88%99"><span class="toc-text">3.合并规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%85%A8%E5%B1%80%E6%B7%B7%E5%85%A5-Mixin"><span class="toc-text">4.全局混入 Mixin</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-Composition-API"><span class="toc-text">9.Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%AE%A4%E8%AF%86-CompositionAPI"><span class="toc-text">1、认识 CompositionAPI</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Options-API%E7%9A%84%E5%BC%8A%E7%AB%AF"><span class="toc-text">1.Options API的弊端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%AE%A4%E8%AF%86-Composition-API"><span class="toc-text">2.认识 Composition API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-setup-%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">3.setup 函数的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81setup-%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">1、setup 函数的参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81setup-%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">2、setup 函数的返回值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Setup-%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">2、Setup 函数的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Setup-%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-text">3、Setup 中数据的响应式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81Reactive-%E7%9F%A5%E8%AF%86%E7%82%B9%E8%A1%A5%E5%85%85"><span class="toc-text">4、Reactive 知识点补充</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81Ref-%E7%9F%A5%E8%AF%86%E7%82%B9%E8%A1%A5%E5%85%85"><span class="toc-text">5、Ref 知识点补充</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81setup-%E4%B8%AD%E7%A6%81%E7%94%A8-this"><span class="toc-text">6、setup 中禁用 this</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/archives/f8e09374.html" title="Vue"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue"/></a><div class="content"><a class="title" href="/archives/f8e09374.html" title="Vue">Vue</a><time datetime="2022-12-09T16:00:00.000Z" title="发表于 2022-12-10 00:00:00">2022-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/archives/0.html" title="数据结构与算法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构与算法"/></a><div class="content"><a class="title" href="/archives/0.html" title="数据结构与算法">数据结构与算法</a><time datetime="2022-07-09T16:00:00.000Z" title="发表于 2022-07-10 00:00:00">2022-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/archives/163a8691.html" title="Git的基本使用"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/2y/wallhaven-2yz22m.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git的基本使用"/></a><div class="content"><a class="title" href="/archives/163a8691.html" title="Git的基本使用">Git的基本使用</a><time datetime="2022-06-30T16:00:00.000Z" title="发表于 2022-07-01 00:00:00">2022-07-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://w.wallhaven.cc/full/2y/wallhaven-2yz3m9.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By awzz-coder</div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><div class="aplayer no-destroy" data-id="7487493788" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>